<?xml version="1.0" encoding="UTF-8" ?>
<ChoregrapheProject xmlns="http://www.aldebaran-robotics.com/schema/choregraphe/project.xsd" xar_version="3">
    <Box name="root" id="-1" localization="8" tooltip="Root box of Choregraphe&apos;s behavior. Highest level possible." x="0" y="0">
        <bitmap>media/images/box/root.png</bitmap>
        <script language="4">
            <content>
                <![CDATA[]]>
</content>
        </script>
        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
        <Input name="BehaviorsRun" type="0" type_size="1" nature="4" stm_value_name="BehaviorsRun" inner="1" tooltip="BehaviorsRun desc" id="4" />
        <Input name="ALChestButton/DoubleClickOccurred" type="0" type_size="1" nature="4" stm_value_name="ALChestButton/DoubleClickOccurred" inner="1" tooltip="ALChestButton/DoubleClickOccurred desc" id="5" />
        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="6" />
        <Timeline enable="0">
            <BehaviorLayer name="behavior_layer1">
                <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram scale="59.4604">
                        <Box name="Switch Case" id="2" localization="8" tooltip="Test input value and stimulate the output matching to this value. If there is no&#x0A;matching output, the default output (onDefault) is stimulated.&#x0A;&#x0A;You can edit a case by left double-clicking on the line. You can add a&#x0A;case by right clicking on a line and selecting &apos;Insert a row&apos;. You can delete&#x0A;a case by right clicking on a line and selecting &apos;Remove a row&apos;." plugin="dispatcher_plugin" x="820" y="581">
                            <bitmap>media/images/box/interaction/choice.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
		  GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
		  GeneratedClass.__init__( self )

	def onInput_onStart(self, p):
		p = self.typeConversion(p)
		if(p == self.typeConversion("Disappointed")):
			self.output_1(p)
		elif(p == self.typeConversion("Mournful")):
			self.output_2(p)
		elif(p == self.typeConversion("Rejected")):
			self.output_3(p)
		elif(p == self.typeConversion("Cheerful")):
			self.output_4(p)
		elif(p == self.typeConversion("Excited")):
			self.output_5(p)
		elif(p == self.typeConversion("Enthusiastic")):
			self.output_6(p)
		elif(p == self.typeConversion("Furious")):
			self.output_7(p)
		elif(p == self.typeConversion("Infuriating")):
			self.output_8(p)
		elif(p == self.typeConversion("Angry")):
			self.output_9(p)
		elif(p == self.typeConversion("Mad")):
			self.output_10(p)
		elif(p == self.typeConversion("Terrified")):
			self.output_11(p)
		elif(p == self.typeConversion("Startled")):
			self.output_12(p)
		elif(p == self.typeConversion("Insecure")):
			self.output_13(p)
		else:
			self.onDefault()

	def typeConversion(self, p):
		try:
			p = float(p)
			pint = int(p)
			if( p == pint ):
				p = pint
		except:
			p = str(p)
		return p]]>
</content>
                            </script>
                            <pluginContent>
                                <keywords>
                                    <keyword>&quot;Disappointed&quot;</keyword>
                                    <keyword>&quot;Mournful&quot;</keyword>
                                    <keyword>&quot;Rejected&quot;</keyword>
                                    <keyword>&quot;Cheerful&quot;</keyword>
                                    <keyword>&quot;Excited&quot;</keyword>
                                    <keyword>&quot;Enthusiastic&quot;</keyword>
                                    <keyword>&quot;Furious&quot;</keyword>
                                    <keyword>&quot;Infuriating&quot;</keyword>
                                    <keyword>&quot;Angry&quot;</keyword>
                                    <keyword>&quot;Mad&quot;</keyword>
                                    <keyword>&quot;Terrified&quot;</keyword>
                                    <keyword>&quot;Startled&quot;</keyword>
                                    <keyword>&quot;Insecure&quot;</keyword>
                                    <keyword></keyword>
                                </keywords>
                            </pluginContent>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="0" type_size="1" nature="1" inner="0" tooltip="Value to test." id="2" />
                            <Output name="onDefault" type="1" type_size="1" nature="2" inner="0" tooltip="If the input value does not match any value set on the box." id="3" />
                            <Output name="output_1" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="4" />
                            <Output name="output_2" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="5" />
                            <Output name="output_3" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="6" />
                            <Output name="output_4" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="7" />
                            <Output name="output_5" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="8" />
                            <Output name="output_6" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="9" />
                            <Output name="output_7" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="10" />
                            <Output name="output_8" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="11" />
                            <Output name="output_9" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="12" />
                            <Output name="output_10" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="13" />
                            <Output name="output_11" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="14" />
                            <Output name="output_12" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="15" />
                            <Output name="output_13" type="0" type_size="1" nature="2" inner="0" tooltip="This IO has been automatically added by box. Read box tooltip for more information." id="16" />
                        </Box>
                        <Box name="Mournful" id="5" localization="8" tooltip="style:&#x0A;sad&#x0A;tags:&#x0A;sad; cry; depressed; afflicted; felled; discouraged" x="1224" y="170">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="265">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="85" value="-23.03" />
                                        <Key frame="108" value="-15.4111" />
                                        <Key frame="135" value="-27.2529" />
                                        <Key frame="166" value="-18.9273" />
                                        <Key frame="265" value="-18.9527" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="85" value="21.0916" />
                                        <Key frame="98" value="23.5526" />
                                        <Key frame="136" value="23.8706" />
                                        <Key frame="209" value="22.7534" />
                                        <Key frame="265" value="22.7784" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="78.2212" />
                                        <Key frame="38" value="68.4652" />
                                        <Key frame="50" value="71.5415" />
                                        <Key frame="65" value="71.2778" />
                                        <Key frame="87" value="72.3325" />
                                        <Key frame="136" value="72.4204" />
                                        <Key frame="265" value="68.9703" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="0" />
                                        <Key frame="38" value="0" />
                                        <Key frame="50" value="2.19489" />
                                        <Key frame="65" value="0.788621" />
                                        <Key frame="87" value="1.14019" />
                                        <Key frame="136" value="3.86484" />
                                        <Key frame="265" value="5.91969" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="-46.4092" />
                                        <Key frame="38" value="-18.8991" />
                                        <Key frame="50" value="-19.2507" />
                                        <Key frame="65" value="-20.2175" />
                                        <Key frame="87" value="-19.6902" />
                                        <Key frame="136" value="-33.8407" />
                                        <Key frame="265" value="-33.9825" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="-52.1174" />
                                        <Key frame="38" value="-58.9729" />
                                        <Key frame="50" value="-56.2483" />
                                        <Key frame="65" value="-36.9121" />
                                        <Key frame="87" value="-37.2637" />
                                        <Key frame="136" value="-26.1014" />
                                        <Key frame="265" value="-26.3844" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-12.0436" />
                                        <Key frame="136" value="-10.6373" />
                                        <Key frame="265" value="-11.1484" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="23" value="0.561457" />
                                        <Key frame="136" value="0.5532" />
                                        <Key frame="265" value="0.554059" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="80.5991" />
                                        <Key frame="38" value="95.6286" />
                                        <Key frame="50" value="78.0503" />
                                        <Key frame="65" value="30.6766" />
                                        <Key frame="87" value="-22.7616" />
                                        <Key frame="134" value="-47.0923" />
                                        <Key frame="265" value="-39.7745" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="-0.881321" />
                                        <Key frame="38" value="-0.353971" />
                                        <Key frame="50" value="-23.7332" />
                                        <Key frame="65" value="-7.82477" />
                                        <Key frame="87" value="9.31412" />
                                        <Key frame="135" value="12.8491" />
                                        <Key frame="265" value="5.89267" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="35.5059" />
                                        <Key frame="38" value="62.9281" />
                                        <Key frame="50" value="27.244" />
                                        <Key frame="65" value="-17.7565" />
                                        <Key frame="87" value="-4.3091" />
                                        <Key frame="133" value="-14.8368" />
                                        <Key frame="265" value="-19.3067" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="15" value="69.7005" />
                                        <Key frame="38" value="71.8099" />
                                        <Key frame="50" value="76.9956" />
                                        <Key frame="65" value="54.1437" />
                                        <Key frame="87" value="86.0484" />
                                        <Key frame="136" value="81.3749" />
                                        <Key frame="265" value="78.0122" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="14.2361" />
                                        <Key frame="136" value="88.499" />
                                        <Key frame="265" value="88.4962" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="23" value="0.421456" />
                                        <Key frame="134" value="0.660553" />
                                        <Key frame="265" value="0.660323" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-20.8279" />
                                        <Key frame="95" value="-28.4745" />
                                        <Key frame="136" value="-28.0351" />
                                        <Key frame="265" value="-28.2123" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-1.84332" />
                                        <Key frame="95" value="0.266079" />
                                        <Key frame="136" value="0.266077" />
                                        <Key frame="265" value="-0.185865" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="13.9772" />
                                        <Key frame="95" value="8.70368" />
                                        <Key frame="136" value="8.44001" />
                                        <Key frame="265" value="8.71395" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="7.81996" />
                                        <Key frame="95" value="7.11683" />
                                        <Key frame="136" value="7.20472" />
                                        <Key frame="265" value="7.60433" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-2.37548" />
                                        <Key frame="95" value="-0.266079" />
                                        <Key frame="136" value="-0.441859" />
                                        <Key frame="265" value="-0.366558" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="3.2544" />
                                        <Key frame="95" value="0.705538" />
                                        <Key frame="136" value="0.529749" />
                                        <Key frame="265" value="0.735645" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-10.4567" />
                                        <Key frame="95" value="0.266079" />
                                        <Key frame="136" value="0.266077" />
                                        <Key frame="265" value="0.0196826" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="14.1482" />
                                        <Key frame="95" value="10.6325" />
                                        <Key frame="136" value="10.5446" />
                                        <Key frame="265" value="10.9685" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="7.03374" />
                                        <Key frame="95" value="2.46337" />
                                        <Key frame="136" value="2.1997" />
                                        <Key frame="265" value="2.41802" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-1.93121" />
                                        <Key frame="95" value="2.11181" />
                                        <Key frame="136" value="1.76024" />
                                        <Key frame="265" value="2.05602" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="7.12163" />
                                        <Key frame="95" value="-1.0523" />
                                        <Key frame="136" value="-0.876518" />
                                        <Key frame="265" value="-0.538233" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Infurating" id="10" localization="8" tooltip="style:&#x0A;angry&#x0A;tags:&#x0A;angry; vexed; furious; irritated; edgy; nervy" x="1233" y="766">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="110">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="-11" />
                                        <Key frame="35" value="-38.0595" />
                                        <Key frame="60" value="-40.6084" />
                                        <Key frame="110" value="-40.1608" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="-18" />
                                        <Key frame="35" value="2.19489" />
                                        <Key frame="60" value="13.8845" />
                                        <Key frame="69" value="11" />
                                        <Key frame="110" value="11.364" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="73.8266" />
                                        <Key frame="32" value="95.6238" />
                                        <Key frame="57" value="104.677" />
                                        <Key frame="110" value="105.283" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="0.70073" />
                                        <Key frame="32" value="19.158" />
                                        <Key frame="57" value="6.50158" />
                                        <Key frame="110" value="10.4349" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-28.8309" />
                                        <Key frame="32" value="-119.271" />
                                        <Key frame="57" value="-119.496" />
                                        <Key frame="110" value="-119.198" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-50.1838" />
                                        <Key frame="32" value="-31.4628" />
                                        <Key frame="57" value="-15.3786" />
                                        <Key frame="110" value="-15.8044" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="24.8" />
                                        <Key frame="57" value="21" />
                                        <Key frame="110" value="21.2489" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="0.630909" />
                                        <Key frame="57" value="0.403636" />
                                        <Key frame="110" value="0.403905" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="96.7712" />
                                        <Key frame="28" value="87.982" />
                                        <Key frame="53" value="90.6188" />
                                        <Key frame="110" value="87.8645" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="-5.71537" />
                                        <Key frame="28" value="-1.84813" />
                                        <Key frame="53" value="-3.16651" />
                                        <Key frame="110" value="-7.63076" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="90.9655" />
                                        <Key frame="28" value="69.7836" />
                                        <Key frame="53" value="78.3091" />
                                        <Key frame="110" value="79.1584" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="24.3484" />
                                        <Key frame="28" value="32.3466" />
                                        <Key frame="53" value="27.4246" />
                                        <Key frame="110" value="28.8717" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="28" value="5.09532" />
                                        <Key frame="53" value="5.62267" />
                                        <Key frame="110" value="5.29924" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="28" value="0.20548" />
                                        <Key frame="53" value="0.202571" />
                                        <Key frame="110" value="0.200916" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-19.4217" />
                                        <Key frame="55" value="-19.4217" />
                                        <Key frame="110" value="-19.2518" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="11.2525" />
                                        <Key frame="55" value="13.9772" />
                                        <Key frame="110" value="13.5886" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="15.9108" />
                                        <Key frame="55" value="15.4713" />
                                        <Key frame="110" value="15.7027" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-4.74856" />
                                        <Key frame="55" value="-4.74856" />
                                        <Key frame="110" value="-4.64172" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="6.06212" />
                                        <Key frame="55" value="6.67737" />
                                        <Key frame="110" value="6.3115" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-8.34731" />
                                        <Key frame="55" value="-10.2809" />
                                        <Key frame="110" value="-9.98373" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-1.75543" />
                                        <Key frame="55" value="0.969213" />
                                        <Key frame="110" value="0.791292" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="16.697" />
                                        <Key frame="55" value="17.3123" />
                                        <Key frame="110" value="17.0826" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-4.83164" />
                                        <Key frame="55" value="-4.83164" />
                                        <Key frame="110" value="-4.7065" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="5.53958" />
                                        <Key frame="55" value="5.45169" />
                                        <Key frame="110" value="5.76395" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="0.969213" />
                                        <Key frame="55" value="-0.964405" />
                                        <Key frame="110" value="-0.410828" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Furious" id="11" localization="8" tooltip="style:&#x0A;angry&#x0A;tags:&#x0A;angry; vexed; furious; irritated; edgy; nervy" x="1230" y="666">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="150">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="-22.8543" />
                                        <Key frame="25" value="3.07381" />
                                        <Key frame="44" value="2.98591" />
                                        <Key frame="60" value="3.07381" />
                                        <Key frame="79" value="2.98591" />
                                        <Key frame="150" value="2.94252" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="13" value="19.4217" />
                                        <Key frame="25" value="-18.6355" />
                                        <Key frame="44" value="-25.1394" />
                                        <Key frame="60" value="-18.6355" />
                                        <Key frame="79" value="-25.1394" />
                                        <Key frame="150" value="-24.9384" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="18.7185" />
                                        <Key frame="26" value="-5.89115" />
                                        <Key frame="33" value="-5.80326" />
                                        <Key frame="39" value="-0.881321" />
                                        <Key frame="45" value="-5.80326" />
                                        <Key frame="51" value="-0.881321" />
                                        <Key frame="61" value="-5.89115" />
                                        <Key frame="68" value="-5.80326" />
                                        <Key frame="74" value="-0.881321" />
                                        <Key frame="80" value="-5.80326" />
                                        <Key frame="86" value="-0.881321" />
                                        <Key frame="150" value="-1.33726" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="17.0486" />
                                        <Key frame="26" value="5.88634" />
                                        <Key frame="33" value="6.23791" />
                                        <Key frame="39" value="1.66754" />
                                        <Key frame="45" value="6.23791" />
                                        <Key frame="51" value="1.66754" />
                                        <Key frame="61" value="5.88634" />
                                        <Key frame="68" value="6.23791" />
                                        <Key frame="74" value="1.66754" />
                                        <Key frame="80" value="6.23791" />
                                        <Key frame="86" value="1.66754" />
                                        <Key frame="150" value="1.85339" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-38.6748" />
                                        <Key frame="26" value="-108.988" />
                                        <Key frame="33" value="-108.9" />
                                        <Key frame="39" value="-103.363" />
                                        <Key frame="45" value="-108.9" />
                                        <Key frame="51" value="-103.363" />
                                        <Key frame="61" value="-108.988" />
                                        <Key frame="68" value="-108.9" />
                                        <Key frame="74" value="-103.363" />
                                        <Key frame="80" value="-108.9" />
                                        <Key frame="86" value="-103.363" />
                                        <Key frame="150" value="-103.876" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-88.153" />
                                        <Key frame="26" value="-89.0319" />
                                        <Key frame="33" value="-54.5784" />
                                        <Key frame="39" value="-87.8893" />
                                        <Key frame="45" value="-54.5784" />
                                        <Key frame="51" value="-87.8893" />
                                        <Key frame="61" value="-89.0319" />
                                        <Key frame="68" value="-54.5784" />
                                        <Key frame="74" value="-87.8893" />
                                        <Key frame="80" value="-54.5784" />
                                        <Key frame="86" value="-87.8893" />
                                        <Key frame="150" value="-87.8343" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-57.6594" />
                                        <Key frame="28" value="-19.5144" />
                                        <Key frame="63" value="-19.5144" />
                                        <Key frame="150" value="-20.0663" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="0.121456" />
                                        <Key frame="28" value="0.121456" />
                                        <Key frame="63" value="0.121456" />
                                        <Key frame="150" value="0.125306" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="103.89" />
                                        <Key frame="26" value="105.297" />
                                        <Key frame="33" value="105.033" />
                                        <Key frame="39" value="101.517" />
                                        <Key frame="45" value="105.033" />
                                        <Key frame="51" value="101.517" />
                                        <Key frame="61" value="105.297" />
                                        <Key frame="68" value="105.033" />
                                        <Key frame="74" value="101.517" />
                                        <Key frame="80" value="105.033" />
                                        <Key frame="86" value="101.517" />
                                        <Key frame="150" value="101.967" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-9.75839" />
                                        <Key frame="26" value="-8.87947" />
                                        <Key frame="33" value="-8.5279" />
                                        <Key frame="39" value="-8.26423" />
                                        <Key frame="45" value="-8.5279" />
                                        <Key frame="51" value="-8.26423" />
                                        <Key frame="61" value="-8.87947" />
                                        <Key frame="68" value="-8.5279" />
                                        <Key frame="74" value="-8.26423" />
                                        <Key frame="80" value="-8.5279" />
                                        <Key frame="86" value="-8.26423" />
                                        <Key frame="150" value="-11.4912" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="113.29" />
                                        <Key frame="26" value="118.124" />
                                        <Key frame="33" value="117.948" />
                                        <Key frame="39" value="117.86" />
                                        <Key frame="45" value="117.948" />
                                        <Key frame="51" value="117.86" />
                                        <Key frame="61" value="118.124" />
                                        <Key frame="68" value="117.948" />
                                        <Key frame="74" value="117.86" />
                                        <Key frame="80" value="117.948" />
                                        <Key frame="86" value="117.86" />
                                        <Key frame="150" value="118.078" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="33.577" />
                                        <Key frame="26" value="18.8991" />
                                        <Key frame="33" value="19.2507" />
                                        <Key frame="39" value="19.0749" />
                                        <Key frame="45" value="19.2507" />
                                        <Key frame="51" value="19.0749" />
                                        <Key frame="61" value="18.8991" />
                                        <Key frame="68" value="19.2507" />
                                        <Key frame="74" value="19.0749" />
                                        <Key frame="80" value="19.2507" />
                                        <Key frame="86" value="19.0749" />
                                        <Key frame="150" value="19.6432" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="17.0486" />
                                        <Key frame="28" value="18.2791" />
                                        <Key frame="63" value="18.2791" />
                                        <Key frame="150" value="18.0686" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="0.0105719" />
                                        <Key frame="28" value="0.0105719" />
                                        <Key frame="63" value="0.0105719" />
                                        <Key frame="150" value="0.0163675" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="-25.9257" />
                                        <Key frame="54" value="-26.3651" />
                                        <Key frame="70" value="-25.9257" />
                                        <Key frame="89" value="-26.3651" />
                                        <Key frame="150" value="-26.1275" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="-0.612838" />
                                        <Key frame="54" value="4.39699" />
                                        <Key frame="70" value="-0.612838" />
                                        <Key frame="89" value="4.39699" />
                                        <Key frame="150" value="4.30825" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="4.83645" />
                                        <Key frame="54" value="3.86964" />
                                        <Key frame="70" value="4.83645" />
                                        <Key frame="89" value="3.86964" />
                                        <Key frame="150" value="4.40087" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="7.64418" />
                                        <Key frame="54" value="9.13834" />
                                        <Key frame="70" value="7.64418" />
                                        <Key frame="89" value="9.13834" />
                                        <Key frame="150" value="9.03835" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="1.66754" />
                                        <Key frame="54" value="2.45856" />
                                        <Key frame="70" value="1.66754" />
                                        <Key frame="89" value="2.45856" />
                                        <Key frame="150" value="2.34646" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="-0.612838" />
                                        <Key frame="54" value="-3.60116" />
                                        <Key frame="70" value="-0.612838" />
                                        <Key frame="89" value="-3.60116" />
                                        <Key frame="150" value="-3.17768" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="-11.2477" />
                                        <Key frame="54" value="-8.69888" />
                                        <Key frame="70" value="-11.2477" />
                                        <Key frame="89" value="-8.69888" />
                                        <Key frame="150" value="-8.86944" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="2.98591" />
                                        <Key frame="54" value="5.44688" />
                                        <Key frame="70" value="2.98591" />
                                        <Key frame="89" value="5.44688" />
                                        <Key frame="150" value="5.09813" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="11.1647" />
                                        <Key frame="54" value="11.6041" />
                                        <Key frame="70" value="11.1647" />
                                        <Key frame="89" value="11.6041" />
                                        <Key frame="150" value="11.3163" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="-0.612838" />
                                        <Key frame="54" value="-1.84332" />
                                        <Key frame="70" value="-0.612838" />
                                        <Key frame="89" value="-1.84332" />
                                        <Key frame="150" value="-1.4195" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="35" value="8.79158" />
                                        <Key frame="54" value="7.03374" />
                                        <Key frame="70" value="8.79158" />
                                        <Key frame="89" value="7.03374" />
                                        <Key frame="150" value="7.15137" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Mad" id="13" localization="8" tooltip="style:&#x0A;angry&#x0A;tags:&#x0A;angry; vexed; furious; irritated; edgy; nervy" x="1237" y="969">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="100">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="21" value="-0.353971" />
                                        <Key frame="29" value="-23.03" />
                                        <Key frame="41" value="-22.4148" />
                                        <Key frame="48" value="-3.69386" />
                                        <Key frame="100" value="-4.22121" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="21" value="-19.5144" />
                                        <Key frame="29" value="22.7616" />
                                        <Key frame="41" value="23.0252" />
                                        <Key frame="48" value="-8.79157" />
                                        <Key frame="100" value="-7.73688" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="18" value="52.2932" />
                                        <Key frame="26" value="89.1198" />
                                        <Key frame="38" value="89.2077" />
                                        <Key frame="48" value="84.7252" />
                                        <Key frame="100" value="81.649" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="18" value="1.14019" />
                                        <Key frame="26" value="0.498473" />
                                        <Key frame="38" value="0.964405" />
                                        <Key frame="48" value="-12.1315" />
                                        <Key frame="100" value="-4.74855" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="18" value="-42.1904" />
                                        <Key frame="26" value="-64.1634" />
                                        <Key frame="38" value="-64.1634" />
                                        <Key frame="48" value="-71.0189" />
                                        <Key frame="100" value="-70.8431" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="18" value="-83.8463" />
                                        <Key frame="26" value="-37.6153" />
                                        <Key frame="31" value="-82" />
                                        <Key frame="38" value="-30" />
                                        <Key frame="48" value="-32.957" />
                                        <Key frame="100" value="-33.4843" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-9.75839" />
                                        <Key frame="38" value="-9.05525" />
                                        <Key frame="48" value="-7.03374" />
                                        <Key frame="100" value="-8.79157" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="26" value="0.116026" />
                                        <Key frame="38" value="0.112753" />
                                        <Key frame="48" value="0.6588" />
                                        <Key frame="100" value="0.662" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="63.1966" />
                                        <Key frame="22" value="84.1148" />
                                        <Key frame="34" value="83.148" />
                                        <Key frame="48" value="81.3023" />
                                        <Key frame="100" value="78.8413" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-8.87947" />
                                        <Key frame="22" value="-0.498473" />
                                        <Key frame="34" value="-1.49656" />
                                        <Key frame="48" value="18" />
                                        <Key frame="100" value="9.84147" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="50.1838" />
                                        <Key frame="22" value="57.6546" />
                                        <Key frame="34" value="57.6546" />
                                        <Key frame="48" value="94.3933" />
                                        <Key frame="100" value="94.0417" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="76.2924" />
                                        <Key frame="22" value="28.9188" />
                                        <Key frame="27" value="60" />
                                        <Key frame="34" value="25" />
                                        <Key frame="48" value="27.6883" />
                                        <Key frame="100" value="27.7762" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="0.524946" />
                                        <Key frame="34" value="0.437054" />
                                        <Key frame="48" value="-15.5592" />
                                        <Key frame="100" value="-12.5709" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="22" value="0.218571" />
                                        <Key frame="34" value="0.215298" />
                                        <Key frame="48" value="0.5676" />
                                        <Key frame="100" value="0.5644" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-19.5975" />
                                        <Key frame="36" value="-19.5975" />
                                        <Key frame="48" value="-22.7616" />
                                        <Key frame="100" value="-22.7616" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="5.3638" />
                                        <Key frame="36" value="5.3638" />
                                        <Key frame="48" value="5.10013" />
                                        <Key frame="100" value="5.53958" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-7.99574" />
                                        <Key frame="36" value="-7.99574" />
                                        <Key frame="48" value="13.0104" />
                                        <Key frame="100" value="13.0104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="25.2225" />
                                        <Key frame="36" value="25.2225" />
                                        <Key frame="48" value="-4.83644" />
                                        <Key frame="100" value="-5.29" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-7.64898" />
                                        <Key frame="36" value="-7.64898" />
                                        <Key frame="48" value="5.44688" />
                                        <Key frame="100" value="5.00743" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-5.53477" />
                                        <Key frame="36" value="-5.53477" />
                                        <Key frame="48" value="-5.62267" />
                                        <Key frame="100" value="-5.44688" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-1.84332" />
                                        <Key frame="36" value="-1.84332" />
                                        <Key frame="48" value="-5.2711" />
                                        <Key frame="100" value="-5.09532" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-11.3404" />
                                        <Key frame="36" value="-11.3404" />
                                        <Key frame="48" value="10.2809" />
                                        <Key frame="100" value="9.92936" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="23.6453" />
                                        <Key frame="36" value="23.5574" />
                                        <Key frame="48" value="-5.18321" />
                                        <Key frame="100" value="-5.29" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="-3.42537" />
                                        <Key frame="36" value="-3.42537" />
                                        <Key frame="48" value="8.00056" />
                                        <Key frame="100" value="8.00056" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="24" value="1.67235" />
                                        <Key frame="36" value="1.76024" />
                                        <Key frame="48" value="4.39699" />
                                        <Key frame="100" value="4.22121" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Terrified" id="14" localization="8" tooltip="tags:&#x0A;fearful; protect" x="1238" y="1073">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="110">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-38.1474" />
                                        <Key frame="63" value="-44.7393" />
                                        <Key frame="110" value="-43.5967" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="11" />
                                        <Key frame="30" value="26.0135" />
                                        <Key frame="63" value="17.4881" />
                                        <Key frame="110" value="18.2791" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="-26.282" />
                                        <Key frame="28" value="-28.1278" />
                                        <Key frame="61" value="-30.325" />
                                        <Key frame="110" value="-25.7547" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="0.498473" />
                                        <Key frame="28" value="6.06212" />
                                        <Key frame="61" value="4.83164" />
                                        <Key frame="110" value="6.06212" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="-1.40867" />
                                        <Key frame="28" value="4.48007" />
                                        <Key frame="61" value="0.612838" />
                                        <Key frame="110" value="3.51326" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="-69.1684" />
                                        <Key frame="28" value="-62.4886" />
                                        <Key frame="61" value="-60.0276" />
                                        <Key frame="110" value="-61.6976" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="18.3" />
                                        <Key frame="28" value="23.6405" />
                                        <Key frame="61" value="25.3983" />
                                        <Key frame="110" value="24.5194" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="0.545455" />
                                        <Key frame="28" value="0.522571" />
                                        <Key frame="61" value="0.504389" />
                                        <Key frame="110" value="0.5124" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="39.9053" />
                                        <Key frame="26" value="45.3545" />
                                        <Key frame="59" value="53.7921" />
                                        <Key frame="110" value="54.2316" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="-1.145" />
                                        <Key frame="26" value="-1.0571" />
                                        <Key frame="59" value="-1.76024" />
                                        <Key frame="110" value="-2.1997" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="51.5021" />
                                        <Key frame="26" value="63.6312" />
                                        <Key frame="59" value="62.9281" />
                                        <Key frame="110" value="62.3128" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="61.7903" />
                                        <Key frame="26" value="75.1498" />
                                        <Key frame="59" value="82.0933" />
                                        <Key frame="110" value="80.2476" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="-29" />
                                        <Key frame="26" value="-28.9188" />
                                        <Key frame="59" value="-28.9188" />
                                        <Key frame="110" value="-26.8094" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="12" value="0.745455" />
                                        <Key frame="26" value="0.713478" />
                                        <Key frame="59" value="0.685842" />
                                        <Key frame="110" value="0.688" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="-17.0486" />
                                        <Key frame="60" value="-17.0486" />
                                        <Key frame="110" value="-17.1365" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="13.4498" />
                                        <Key frame="60" value="13.5377" />
                                        <Key frame="110" value="13.0104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="12.9225" />
                                        <Key frame="60" value="13.0104" />
                                        <Key frame="110" value="13.362" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="-0.178188" />
                                        <Key frame="60" value="-0.178188" />
                                        <Key frame="110" value="-0.00240423" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="7.29261" />
                                        <Key frame="60" value="7.11683" />
                                        <Key frame="110" value="7.20472" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="-11.1598" />
                                        <Key frame="60" value="-11.1598" />
                                        <Key frame="110" value="-11.3356" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="-9.92936" />
                                        <Key frame="60" value="-10.0173" />
                                        <Key frame="110" value="-9.92936" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="12.4782" />
                                        <Key frame="60" value="12.4782" />
                                        <Key frame="110" value="12.9177" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="19.3386" />
                                        <Key frame="60" value="19.3386" />
                                        <Key frame="110" value="19.6902" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="-12.8298" />
                                        <Key frame="60" value="-12.8298" />
                                        <Key frame="110" value="-13.445" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="27" value="7.03374" />
                                        <Key frame="60" value="7.12163" />
                                        <Key frame="110" value="6.59429" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Startled" id="15" localization="8" tooltip="tags:&#x0A;surprised; fear; scared; frightened" x="1241" y="1180">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="120">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="21" value="6.41369" />
                                        <Key frame="36" value="6.85315" />
                                        <Key frame="43" value="-26.1062" />
                                        <Key frame="48" value="-26.1062" />
                                        <Key frame="55" value="18.9822" />
                                        <Key frame="61" value="18.9822" />
                                        <Key frame="120" value="16.2576" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="21" value="-30.8524" />
                                        <Key frame="36" value="-31.3797" />
                                        <Key frame="43" value="-29.7098" />
                                        <Key frame="48" value="-29.7098" />
                                        <Key frame="55" value="-29.4461" />
                                        <Key frame="61" value="-31.1161" />
                                        <Key frame="120" value="-30.9403" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="102.04" />
                                        <Key frame="68" value="99.1395" />
                                        <Key frame="120" value="99.9305" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="8.4352" />
                                        <Key frame="68" value="9.31412" />
                                        <Key frame="120" value="9.5778" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="-115.844" />
                                        <Key frame="68" value="-119.5" />
                                        <Key frame="120" value="-117.514" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="-31.4628" />
                                        <Key frame="68" value="-26.2772" />
                                        <Key frame="120" value="-27.0682" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="25" value="-2.63822" />
                                        <Key frame="120" value="-1.05711" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="25" value="-2.11622" />
                                        <Key frame="120" value="0" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="98.2654" />
                                        <Key frame="68" value="97.2985" />
                                        <Key frame="120" value="97.2986" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="-16.9655" />
                                        <Key frame="68" value="-18.6679" />
                                        <Key frame="120" value="-16.2624" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="103.798" />
                                        <Key frame="68" value="102.894" />
                                        <Key frame="120" value="102.831" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="20" value="29.8856" />
                                        <Key frame="68" value="29.8856" />
                                        <Key frame="120" value="30.8524" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="25" value="-4.2151" />
                                        <Key frame="120" value="-5.80326" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="25" value="-4.89607" />
                                        <Key frame="120" value="0.00119996" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-5.2711" />
                                        <Key frame="28" value="-5.2711" />
                                        <Key frame="120" value="-5.2711" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="0.617646" />
                                        <Key frame="28" value="0.617646" />
                                        <Key frame="120" value="0.793436" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-26.0135" />
                                        <Key frame="28" value="-26.0135" />
                                        <Key frame="120" value="-26.1014" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="48.5138" />
                                        <Key frame="28" value="48.5138" />
                                        <Key frame="120" value="49.0412" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-21.3601" />
                                        <Key frame="28" value="-21.3601" />
                                        <Key frame="120" value="-21.3601" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-0.876513" />
                                        <Key frame="28" value="-0.876513" />
                                        <Key frame="120" value="-1.31597" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="0.881321" />
                                        <Key frame="28" value="0.881321" />
                                        <Key frame="120" value="0.529749" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-25.6668" />
                                        <Key frame="28" value="-25.6668" />
                                        <Key frame="120" value="-25.7547" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="47.9034" />
                                        <Key frame="28" value="47.9034" />
                                        <Key frame="120" value="48.255" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-21.9705" />
                                        <Key frame="28" value="-21.9705" />
                                        <Key frame="120" value="-22.2342" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="22" value="-0.173379" />
                                        <Key frame="28" value="-0.173379" />
                                        <Key frame="120" value="-0.173378" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Insecure" id="16" localization="8" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="1240" y="1288">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="130">
                                <ActuatorList model="nao">
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-8.5279" />
                                        <Key frame="40" value="28.1229" />
                                        <Key frame="60" value="28.3866" />
                                        <Key frame="130" value="27.9472" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-0.00240423" />
                                        <Key frame="40" value="-0.00240423" />
                                        <Key frame="60" value="-0.00240423" />
                                        <Key frame="130" value="0.612832" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="5.35899" />
                                        <Key frame="40" value="7.29261" />
                                        <Key frame="60" value="-2.72705" />
                                        <Key frame="130" value="-2.55127" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-7.20472" />
                                        <Key frame="40" value="-5.2711" />
                                        <Key frame="60" value="-5.00743" />
                                        <Key frame="130" value="-5.18321" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-24.7831" />
                                        <Key frame="40" value="-28.2108" />
                                        <Key frame="60" value="-4.2164" />
                                        <Key frame="130" value="-5.09532" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-67.1517" />
                                        <Key frame="40" value="-57.3957" />
                                        <Key frame="60" value="-29.534" />
                                        <Key frame="130" value="-30.7645" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="0" mute="0" unit="1">
                                        <Key frame="20" value="0.3012" />
                                        <Key frame="40" value="0.9416" />
                                        <Key frame="60" value="0.938" />
                                        <Key frame="130" value="0.9364" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="7.20952" />
                                        <Key frame="40" value="6.3306" />
                                        <Key frame="60" value="1.93602" />
                                        <Key frame="130" value="2.02391" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="5.53958" />
                                        <Key frame="40" value="5.53958" />
                                        <Key frame="60" value="4.92435" />
                                        <Key frame="130" value="4.92435" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-9.66569" />
                                        <Key frame="40" value="-18.9822" />
                                        <Key frame="60" value="-3.24959" />
                                        <Key frame="130" value="-3.42537" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-4.92435" />
                                        <Key frame="40" value="-5.29" />
                                        <Key frame="60" value="0.876518" />
                                        <Key frame="130" value="0.524941" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="84.9889" />
                                        <Key frame="40" value="83.9342" />
                                        <Key frame="60" value="71.8051" />
                                        <Key frame="130" value="68.9047" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="7.90786" />
                                        <Key frame="40" value="7.02893" />
                                        <Key frame="60" value="-8.26423" />
                                        <Key frame="130" value="-4.22121" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="4.30429" />
                                        <Key frame="40" value="4.30429" />
                                        <Key frame="60" value="2.28279" />
                                        <Key frame="130" value="3.42537" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="5.27591" />
                                        <Key frame="40" value="5.97904" />
                                        <Key frame="60" value="0.0902951" />
                                        <Key frame="130" value="0.0902951" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="7.12163" />
                                        <Key frame="40" value="3.43018" />
                                        <Key frame="60" value="3.34228" />
                                        <Key frame="130" value="3.51807" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="23.9968" />
                                        <Key frame="40" value="27.6883" />
                                        <Key frame="60" value="4.66066" />
                                        <Key frame="130" value="4.66066" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="67.5863" />
                                        <Key frame="40" value="46.5802" />
                                        <Key frame="60" value="19.158" />
                                        <Key frame="130" value="20.0369" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="0" mute="0" unit="1">
                                        <Key frame="20" value="0.3096" />
                                        <Key frame="40" value="0.684" />
                                        <Key frame="60" value="0.6732" />
                                        <Key frame="130" value="0.6836" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="7.55628" />
                                        <Key frame="40" value="7.55628" />
                                        <Key frame="60" value="-1.32078" />
                                        <Key frame="130" value="-1.49656" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-5.79845" />
                                        <Key frame="40" value="-3.33748" />
                                        <Key frame="60" value="-3.16169" />
                                        <Key frame="130" value="-3.24959" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipYawPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-9.66569" />
                                        <Key frame="40" value="-18.9822" />
                                        <Key frame="60" value="-3.24959" />
                                        <Key frame="130" value="-3.42537" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-4.74374" />
                                        <Key frame="40" value="-5.18321" />
                                        <Key frame="60" value="0.353968" />
                                        <Key frame="130" value="0.00240423" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="84.5542" />
                                        <Key frame="40" value="79.5444" />
                                        <Key frame="60" value="65.5696" />
                                        <Key frame="130" value="64.9544" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="-8.26423" />
                                        <Key frame="40" value="-5.53958" />
                                        <Key frame="60" value="6.58948" />
                                        <Key frame="130" value="3.60116" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="0" mute="0" unit="0">
                                        <Key frame="20" value="3.68905" />
                                        <Key frame="40" value="-1.145" />
                                        <Key frame="60" value="8.61098" />
                                        <Key frame="130" value="6.32579" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                        </Box>
                        <Box name="Store Value" id="18" localization="8" tooltip="This box stores a vale when the setValue input is stimulated with a string.&#x0A;&#x0A;If the onStart input is stimulated, the value ir returned on the getValue output&#x0A;" x="554" y="1044">
                            <bitmap>media/images/box/box-python-script.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        self.value = ""
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        self.getValue(self.value)


    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box

    def onInput_setValue(self, value):
        self.value = value]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="setValue" type="3" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
                            <Output name="getValue" type="3" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        </Box>
                        <Box name="Explain_5" id="43" localization="8" tooltip="tags:&#x0A;body language; explain; present; clear" x="981" y="180">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="70">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="Explain" index="1">
                                        <Diagram>
                                            <Box name="Say" id="1" localization="8" tooltip="Say some text. Note that you must open the box to enter the text." x="135" y="60">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" localization="8" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" localization="8" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Hello ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Als je het nog een keer wil zien, raak je mijn voet aan ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>
                                                                            <![CDATA[你好]]>
</chinese>
                                                                        <english>
                                                                            <![CDATA[Hello]]>
</english>
                                                                        <french>
                                                                            <![CDATA[Bonjour]]>
</french>
                                                                        <german>
                                                                            <![CDATA[Hallo]]>
</german>
                                                                        <italian>
                                                                            <![CDATA[Ciao]]>
</italian>
                                                                        <japanese>
                                                                            <![CDATA[こんにちは]]>
</japanese>
                                                                        <korean>
                                                                            <![CDATA[안녕하세요]]>
</korean>
                                                                        <portuguese>
                                                                            <![CDATA[Olá]]>
</portuguese>
                                                                        <brazilian>
                                                                            <![CDATA[Olá]]>
</brazilian>
                                                                        <spanish>
                                                                            <![CDATA[Hola]]>
</spanish>
                                                                        <arabic>
                                                                            <![CDATA[مرحبا]]>
</arabic>
                                                                        <polish>
                                                                            <![CDATA[Cześć]]>
</polish>
                                                                        <czech>
                                                                            <![CDATA[Ahoj]]>
</czech>
                                                                        <dutch>
                                                                            <![CDATA[Als je het nog een keer wil zien, raak je mijn voet aan]]>
</dutch>
                                                                        <danish>
                                                                            <![CDATA[Hej]]>
</danish>
                                                                        <finnish>
                                                                            <![CDATA[Hei]]>
</finnish>
                                                                        <swedish>
                                                                            <![CDATA[Hallå]]>
</swedish>
                                                                        <russian>
                                                                            <![CDATA[Привет]]>
</russian>
                                                                        <turkish>
                                                                            <![CDATA[Merhaba]]>
</turkish>
                                                                        <language>13</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                                <Resource name="Speech" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="-4.13332" />
                                        <Key frame="46" value="-4.13332" />
                                        <Key frame="70" value="-4.48488" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="2.89802" />
                                        <Key frame="46" value="-13.3619" />
                                        <Key frame="70" value="-18.2839" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="47.9865" />
                                        <Key frame="44" value="57.7425" />
                                        <Key frame="68" value="67.4106" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="1.75543" />
                                        <Key frame="44" value="0.70073" />
                                        <Key frame="68" value="0.876513" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-99.4958" />
                                        <Key frame="30" value="-80" />
                                        <Key frame="44" value="-56.1652" />
                                        <Key frame="68" value="-57.8352" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-61.6976" />
                                        <Key frame="30" value="-52" />
                                        <Key frame="44" value="-74.0024" />
                                        <Key frame="68" value="-67.85" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="30" value="-23.7" />
                                        <Key frame="44" value="-50" />
                                        <Key frame="68" value="-58" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="44" value="0.163636" />
                                        <Key frame="68" value="0.2" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="73.3041" />
                                        <Key frame="42" value="80.687" />
                                        <Key frame="66" value="82.9722" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="-2.02391" />
                                        <Key frame="42" value="-2.46337" />
                                        <Key frame="66" value="-2.46337" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="39.6368" />
                                        <Key frame="42" value="69.52" />
                                        <Key frame="66" value="78.7486" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="29.0946" />
                                        <Key frame="42" value="23.2937" />
                                        <Key frame="66" value="21.2722" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="42" value="0.788621" />
                                        <Key frame="66" value="0.788621" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="42" value="0.244025" />
                                        <Key frame="66" value="0.239662" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="-20.4764" />
                                        <Key frame="67" value="-20.3885" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="5.01223" />
                                        <Key frame="67" value="5.01223" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="10.5494" />
                                        <Key frame="67" value="10.5494" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="-5.29104" />
                                        <Key frame="67" value="-5.27591" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="7.73207" />
                                        <Key frame="67" value="7.73207" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="-5.2711" />
                                        <Key frame="67" value="-5.2711" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="-6.06212" />
                                        <Key frame="67" value="-6.15002" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="10.6325" />
                                        <Key frame="67" value="10.8083" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="-5.90622" />
                                        <Key frame="67" value="-5.90622" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="8.35212" />
                                        <Key frame="67" value="8.61579" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="43" value="5.18802" />
                                        <Key frame="67" value="5.27591" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Stop on demand" timeout="0" />
                            <Resource name="All motors" type="Stop on demand" timeout="0" />
                        </Box>
                        <Box name="Bumpers" id="19" localization="8" tooltip="Listen to bumpers sensors. Stimulate onLeft or onRight output depending on&#x0A;which bumper is stimulated." x="1795" y="715">
                            <bitmap>media/images/box/movement/move_foot.png</bitmap>
                            <bitmap>media/images/box/movement/move_leftfoot.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="LeftBumperPressed" type="0" type_size="1" nature="4" stm_value_name="LeftBumperPressed" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                            <Input name="RightBumperPressed" type="0" type_size="1" nature="4" stm_value_name="RightBumperPressed" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="5" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="6" />
                            <Output name="onLeft" type="1" type_size="1" nature="2" inner="0" tooltip="When left bumper is stimulated." id="7" />
                            <Output name="onRight" type="1" type_size="1" nature="2" inner="0" tooltip="When right bumper is stimulated." id="8" />
                            <Timeline enable="0">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram>
                                            <Box name="If &gt; 0" id="2" localization="8" tooltip="Transmit only if value is &gt; 0." x="196" y="61">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="0" type_size="1" nature="1" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Output name="onStopped" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                            </Box>
                                            <Box name="If &gt; 0" id="4" localization="8" tooltip="Transmit only if value is &gt; 0." x="197" y="165">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="0" type_size="1" nature="1" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Output name="onStopped" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                            </Box>
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="7" outputowner="2" indexofoutput="3" />
                                            <Link inputowner="4" indexofinput="2" outputowner="0" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="8" outputowner="4" indexofoutput="3" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                            </Timeline>
                        </Box>
                        <Box name="Tactile Head" id="20" localization="8" tooltip="Detect touch on head tactile sensor." x="124" y="37">
                            <bitmap>media/images/box/sensors/tactileHead.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
            self.onStopped() #~ activate output of the box
        pass]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="FrontTactilTouched" type="0" type_size="1" nature="4" stm_value_name="FrontTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                            <Input name="MiddleTactilTouched" type="0" type_size="1" nature="4" stm_value_name="MiddleTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="5" />
                            <Input name="RearTactilTouched" type="0" type_size="1" nature="4" stm_value_name="RearTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="6" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="7" />
                            <Output name="frontTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The front tactile head sensor was touched." id="8" />
                            <Output name="middleTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The middle tactile head sensor was touched." id="9" />
                            <Output name="rearTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The rear tactile head sensor was touched." id="10" />
                            <Timeline enable="0">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram>
                                            <Box name="If &gt; 0" id="1" localization="8" tooltip="Transmit only if value is &gt; 0." x="260" y="17">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="If &gt; 0" id="2" localization="8" tooltip="Transmit only if value is &gt; 0." x="256" y="119">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="If &gt; 0" id="3" localization="8" tooltip="Transmit only if value is &gt; 0." x="261" y="223">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="8" outputowner="1" indexofoutput="4" />
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="9" outputowner="2" indexofoutput="4" />
                                            <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="6" />
                                            <Link inputowner="0" indexofinput="10" outputowner="3" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                            </Timeline>
                            <Resource name="Head-sequence" type="Lock" timeout="0" />
                        </Box>
                        <Box name="Disappointed" id="3" localization="8" tooltip="style:&#x0A;angry; sad&#x0A;tags:&#x0A;disappointed" x="1219" y="70">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="220" size="220">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="-4.66067" />
                                        <Key frame="31" value="-22" />
                                        <Key frame="41" value="12" />
                                        <Key frame="52" value="-13" />
                                        <Key frame="84" value="-21.1843" />
                                        <Key frame="220" value="-21.1843" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="20" value="-16.2624" />
                                        <Key frame="52" value="17" />
                                        <Key frame="84" value="24.6073" />
                                        <Key frame="220" value="24.6073" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="91.3171" />
                                        <Key frame="39" value="79.8033" />
                                        <Key frame="82" value="77.6939" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="15.7302" />
                                        <Key frame="39" value="7.3805" />
                                        <Key frame="82" value="5.79845" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-61.7024" />
                                        <Key frame="39" value="-48.5186" />
                                        <Key frame="82" value="-48.0792" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-53.5237" />
                                        <Key frame="39" value="-13.1814" />
                                        <Key frame="82" value="-8.96255" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="4" />
                                        <Key frame="82" value="4.56797" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="0.654545" />
                                        <Key frame="82" value="0.619296" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="85.7847" />
                                        <Key frame="37" value="77.5229" />
                                        <Key frame="80" value="78.5776" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="-15.4713" />
                                        <Key frame="37" value="-7.12163" />
                                        <Key frame="80" value="-6.59428" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="48.4259" />
                                        <Key frame="37" value="44.9982" />
                                        <Key frame="80" value="44.6466" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="51.5948" />
                                        <Key frame="37" value="12.0436" />
                                        <Key frame="80" value="8.00055" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="37" value="2" />
                                        <Key frame="80" value="2.72224" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="37" value="0.690909" />
                                        <Key frame="80" value="0.658933" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="-10.8962" />
                                        <Key frame="81" value="-10.8083" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="4.74856" />
                                        <Key frame="81" value="4.83645" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="1.58446" />
                                        <Key frame="81" value="1.84813" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="-5.10012" />
                                        <Key frame="81" value="-5.10012" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="6.85315" />
                                        <Key frame="81" value="6.94104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="-5.79845" />
                                        <Key frame="81" value="-5.79845" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="-3.24959" />
                                        <Key frame="81" value="-3.24959" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="0.349163" />
                                        <Key frame="81" value="0.612838" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="-5.88634" />
                                        <Key frame="81" value="-5.71056" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="7.91266" />
                                        <Key frame="81" value="7.82477" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="38" value="3.78175" />
                                        <Key frame="81" value="3.69386" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Rejected" id="22" localization="8" tooltip="style:&#x0A;angry; sad&#x0A;tags:&#x0A;confused; embarrassed; lost; sorry" x="1227" y="266">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="210">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-4.74855" />
                                        <Key frame="18" value="-4.57277" />
                                        <Key frame="31" value="-4.13332" />
                                        <Key frame="40" value="-4.3091" />
                                        <Key frame="43" value="-21.1843" />
                                        <Key frame="56" value="7.46839" />
                                        <Key frame="68" value="-12.3072" />
                                        <Key frame="92" value="-4.83645" />
                                        <Key frame="104" value="-5.3638" />
                                        <Key frame="210" value="-5.3638" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-2.11181" />
                                        <Key frame="18" value="-10.5494" />
                                        <Key frame="31" value="-7.56109" />
                                        <Key frame="40" value="-11.7799" />
                                        <Key frame="43" value="-6.06693" />
                                        <Key frame="56" value="-0.79343" />
                                        <Key frame="68" value="1.0523" />
                                        <Key frame="81" value="-8" />
                                        <Key frame="92" value="12.4782" />
                                        <Key frame="104" value="28.3866" />
                                        <Key frame="210" value="28.565" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="16" value="83.9342" />
                                        <Key frame="29" value="91.9323" />
                                        <Key frame="38" value="93.4265" />
                                        <Key frame="46" value="83.4068" />
                                        <Key frame="60" value="82.9674" />
                                        <Key frame="90" value="86.6588" />
                                        <Key frame="104" value="86.8346" />
                                        <Key frame="210" value="82.1764" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="16" value="0.498473" />
                                        <Key frame="29" value="2.45856" />
                                        <Key frame="38" value="5.53477" />
                                        <Key frame="46" value="0.524946" />
                                        <Key frame="60" value="8.61098" />
                                        <Key frame="90" value="3.86483" />
                                        <Key frame="104" value="4.39218" />
                                        <Key frame="210" value="7.11683" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="16" value="-69.4369" />
                                        <Key frame="29" value="-89.1246" />
                                        <Key frame="38" value="-91.3219" />
                                        <Key frame="46" value="-81.7417" />
                                        <Key frame="60" value="-81.5659" />
                                        <Key frame="90" value="-80.4233" />
                                        <Key frame="104" value="-80.7749" />
                                        <Key frame="210" value="-80.7749" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="16" value="-45.1739" />
                                        <Key frame="29" value="-35.5937" />
                                        <Key frame="38" value="-30.8476" />
                                        <Key frame="46" value="-26.1893" />
                                        <Key frame="60" value="-26.1014" />
                                        <Key frame="90" value="-16.9607" />
                                        <Key frame="104" value="-15.8181" />
                                        <Key frame="210" value="-15.2029" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="29" value="-54" />
                                        <Key frame="38" value="-55.7258" />
                                        <Key frame="60" value="-5.4" />
                                        <Key frame="90" value="21" />
                                        <Key frame="104" value="20.5643" />
                                        <Key frame="210" value="20.5643" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="29" value="0.585455" />
                                        <Key frame="38" value="0.586207" />
                                        <Key frame="60" value="0.599296" />
                                        <Key frame="90" value="0.612727" />
                                        <Key frame="104" value="0.6132" />
                                        <Key frame="210" value="0.602" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="83.3238" />
                                        <Key frame="27" value="91.9371" />
                                        <Key frame="36" value="93.8708" />
                                        <Key frame="44" value="83.3238" />
                                        <Key frame="58" value="81.9175" />
                                        <Key frame="88" value="87.2789" />
                                        <Key frame="104" value="82.3569" />
                                        <Key frame="210" value="82.3569" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-2.37548" />
                                        <Key frame="27" value="-3.34229" />
                                        <Key frame="36" value="-5.71537" />
                                        <Key frame="44" value="-0.881321" />
                                        <Key frame="58" value="-6.77007" />
                                        <Key frame="88" value="-5.89115" />
                                        <Key frame="104" value="-3.86964" />
                                        <Key frame="210" value="-8.08845" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="71.6294" />
                                        <Key frame="27" value="98.7879" />
                                        <Key frame="36" value="101.776" />
                                        <Key frame="44" value="74.4419" />
                                        <Key frame="58" value="84.9889" />
                                        <Key frame="88" value="80.1548" />
                                        <Key frame="104" value="76.9908" />
                                        <Key frame="210" value="77.606" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="41.6631" />
                                        <Key frame="27" value="26.9852" />
                                        <Key frame="36" value="26.5457" />
                                        <Key frame="44" value="28.8309" />
                                        <Key frame="58" value="25.8426" />
                                        <Key frame="88" value="19.1628" />
                                        <Key frame="104" value="13.0983" />
                                        <Key frame="210" value="13.0983" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="27" value="65.7" />
                                        <Key frame="36" value="65.0375" />
                                        <Key frame="58" value="7.5" />
                                        <Key frame="88" value="-16" />
                                        <Key frame="104" value="-13.7135" />
                                        <Key frame="210" value="-13.7135" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="27" value="0.567273" />
                                        <Key frame="36" value="0.569844" />
                                        <Key frame="58" value="0.710205" />
                                        <Key frame="88" value="0.527273" />
                                        <Key frame="104" value="0.5104" />
                                        <Key frame="210" value="0.5104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-23.0252" />
                                        <Key frame="59" value="-22.41" />
                                        <Key frame="89" value="-25.3104" />
                                        <Key frame="104" value="-25.3983" />
                                        <Key frame="210" value="-25.3983" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="5.18802" />
                                        <Key frame="59" value="5.10012" />
                                        <Key frame="89" value="-0.612838" />
                                        <Key frame="104" value="-0.349159" />
                                        <Key frame="210" value="-0.349159" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="12.7467" />
                                        <Key frame="59" value="23.8211" />
                                        <Key frame="89" value="7.4732" />
                                        <Key frame="104" value="7.29742" />
                                        <Key frame="210" value="7.29742" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-5.18802" />
                                        <Key frame="59" value="-5.27591" />
                                        <Key frame="89" value="-5.27591" />
                                        <Key frame="104" value="-5.27591" />
                                        <Key frame="210" value="-5.27591" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="5.44688" />
                                        <Key frame="59" value="4.48007" />
                                        <Key frame="89" value="9.4899" />
                                        <Key frame="104" value="9.48991" />
                                        <Key frame="210" value="9.48991" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-5.2711" />
                                        <Key frame="59" value="-2.45856" />
                                        <Key frame="89" value="-0.70073" />
                                        <Key frame="104" value="-0.876518" />
                                        <Key frame="210" value="-0.876518" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-4.74375" />
                                        <Key frame="59" value="-4.74375" />
                                        <Key frame="89" value="0.00240423" />
                                        <Key frame="104" value="0.00240423" />
                                        <Key frame="210" value="0.00240423" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="10.5446" />
                                        <Key frame="59" value="23.7284" />
                                        <Key frame="89" value="6.50158" />
                                        <Key frame="104" value="6.06212" />
                                        <Key frame="210" value="6.06212" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-5.90622" />
                                        <Key frame="59" value="-5.53477" />
                                        <Key frame="89" value="-5.79845" />
                                        <Key frame="104" value="-5.09532" />
                                        <Key frame="210" value="-5.09532" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="8.17633" />
                                        <Key frame="59" value="5.10012" />
                                        <Key frame="89" value="10.3736" />
                                        <Key frame="104" value="10.2857" />
                                        <Key frame="210" value="10.2857" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="4.13332" />
                                        <Key frame="59" value="1.32078" />
                                        <Key frame="89" value="0.441863" />
                                        <Key frame="104" value="0.793436" />
                                        <Key frame="210" value="0.793436" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Cheerful" id="6" localization="8" tooltip="style:&#x0A;happy; fun&#x0A;tags:&#x0A;happy; joyful; winner" x="1226" y="368">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="150" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="275">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="25" value="-4.66067" />
                                        <Key frame="36" value="-0.353971" />
                                        <Key frame="61" value="-3.95753" />
                                        <Key frame="73" value="-3.60596" />
                                        <Key frame="88" value="-3.95753" />
                                        <Key frame="106" value="-0.705538" />
                                        <Key frame="130" value="-11.4283" />
                                        <Key frame="143" value="-8.87947" />
                                        <Key frame="150" value="-8.08844" />
                                        <Key frame="158" value="-8.87947" />
                                        <Key frame="175" value="-5.53958" />
                                        <Key frame="275" value="-5.53958" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="25" value="10.1051" />
                                        <Key frame="36" value="19.5096" />
                                        <Key frame="61" value="-20.4812" />
                                        <Key frame="73" value="-21.7996" />
                                        <Key frame="88" value="-2.99072" />
                                        <Key frame="106" value="-12.1315" />
                                        <Key frame="130" value="5.09532" />
                                        <Key frame="143" value="18.367" />
                                        <Key frame="150" value="28.8261" />
                                        <Key frame="158" value="18.367" />
                                        <Key frame="175" value="-0.529755" />
                                        <Key frame="275" value="-0.529755" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="84.1979" />
                                        <Key frame="34" value="47.1076" />
                                        <Key frame="59" value="-55.2863" />
                                        <Key frame="72" value="-10.8131" />
                                        <Key frame="86" value="30.8476" />
                                        <Key frame="104" value="91.2292" />
                                        <Key frame="127" value="73.7388" />
                                        <Key frame="141" value="68.5531" />
                                        <Key frame="148" value="61.0823" />
                                        <Key frame="157" value="68.9047" />
                                        <Key frame="173" value="77.5181" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="14.2361" />
                                        <Key frame="34" value="31.4628" />
                                        <Key frame="59" value="45.7013" />
                                        <Key frame="72" value="37.8789" />
                                        <Key frame="86" value="18.1912" />
                                        <Key frame="104" value="10.193" />
                                        <Key frame="127" value="11.6872" />
                                        <Key frame="141" value="4.48007" />
                                        <Key frame="148" value="4.56797" />
                                        <Key frame="157" value="5.53477" />
                                        <Key frame="173" value="7.99574" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-48.255" />
                                        <Key frame="34" value="-32.6102" />
                                        <Key frame="59" value="-40.081" />
                                        <Key frame="72" value="-89.9156" />
                                        <Key frame="86" value="-64.1634" />
                                        <Key frame="104" value="-69.7005" />
                                        <Key frame="127" value="-37.0927" />
                                        <Key frame="141" value="-23.3816" />
                                        <Key frame="148" value="-18.987" />
                                        <Key frame="157" value="-22.6785" />
                                        <Key frame="173" value="-41.0478" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-76.0239" />
                                        <Key frame="34" value="-84.901" />
                                        <Key frame="59" value="-28.3866" />
                                        <Key frame="72" value="-59.6761" />
                                        <Key frame="86" value="-78.5728" />
                                        <Key frame="104" value="-32.7812" />
                                        <Key frame="127" value="-59.3245" />
                                        <Key frame="141" value="-65.8285" />
                                        <Key frame="148" value="-71.8051" />
                                        <Key frame="157" value="-65.4769" />
                                        <Key frame="173" value="-50.008" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-43.8604" />
                                        <Key frame="44" value="-24.3484" />
                                        <Key frame="72" value="-21.5359" />
                                        <Key frame="86" value="-21.7117" />
                                        <Key frame="104" value="5.62267" />
                                        <Key frame="131" value="-30.1" />
                                        <Key frame="151" value="-47.8155" />
                                        <Key frame="162" value="-47.8155" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="23" value="0.269844" />
                                        <Key frame="44" value="0.592025" />
                                        <Key frame="72" value="0.56948" />
                                        <Key frame="86" value="0.56948" />
                                        <Key frame="104" value="0.232389" />
                                        <Key frame="131" value="0.196753" />
                                        <Key frame="151" value="0.199298" />
                                        <Key frame="162" value="0.199662" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="84.6421" />
                                        <Key frame="34" value="13.4498" />
                                        <Key frame="59" value="-52.7326" />
                                        <Key frame="71" value="-19.949" />
                                        <Key frame="84" value="63.0208" />
                                        <Key frame="102" value="85.4332" />
                                        <Key frame="125" value="40.7842" />
                                        <Key frame="139" value="26.8973" />
                                        <Key frame="146" value="18.987" />
                                        <Key frame="155" value="19.9538" />
                                        <Key frame="171" value="52.3859" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="-8.70368" />
                                        <Key frame="34" value="-23.9968" />
                                        <Key frame="59" value="-41.3115" />
                                        <Key frame="71" value="-41.4873" />
                                        <Key frame="84" value="-23.4695" />
                                        <Key frame="102" value="-5.53958" />
                                        <Key frame="125" value="-8.08844" />
                                        <Key frame="139" value="-1.0571" />
                                        <Key frame="146" value="-7.03374" />
                                        <Key frame="155" value="-5.01223" />
                                        <Key frame="171" value="-9.75839" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="49.3927" />
                                        <Key frame="34" value="-29.3582" />
                                        <Key frame="59" value="48.338" />
                                        <Key frame="71" value="87.8893" />
                                        <Key frame="84" value="72.0688" />
                                        <Key frame="102" value="67.4106" />
                                        <Key frame="125" value="49.8322" />
                                        <Key frame="139" value="31.2871" />
                                        <Key frame="146" value="12.5661" />
                                        <Key frame="155" value="24.2557" />
                                        <Key frame="171" value="34.4512" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="68.4701" />
                                        <Key frame="34" value="75.2377" />
                                        <Key frame="59" value="35.8622" />
                                        <Key frame="71" value="58.802" />
                                        <Key frame="84" value="80.7749" />
                                        <Key frame="102" value="25.2273" />
                                        <Key frame="125" value="58.5383" />
                                        <Key frame="139" value="89.652" />
                                        <Key frame="146" value="89.1246" />
                                        <Key frame="155" value="88.8609" />
                                        <Key frame="171" value="82.0054" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="23" value="41.3946" />
                                        <Key frame="44" value="23.5526" />
                                        <Key frame="71" value="24.0799" />
                                        <Key frame="84" value="23.7284" />
                                        <Key frame="102" value="10.7204" />
                                        <Key frame="129" value="15.9" />
                                        <Key frame="149" value="33.3086" />
                                        <Key frame="160" value="11.2477" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="23" value="0.345844" />
                                        <Key frame="44" value="0.782205" />
                                        <Key frame="71" value="0.750569" />
                                        <Key frame="84" value="0.750569" />
                                        <Key frame="102" value="0.407298" />
                                        <Key frame="129" value="0.222207" />
                                        <Key frame="149" value="0.224753" />
                                        <Key frame="160" value="0.224753" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-33.0449" />
                                        <Key frame="66" value="-19.7732" />
                                        <Key frame="82" value="-18.7185" />
                                        <Key frame="103" value="-9.31412" />
                                        <Key frame="135" value="-25.9257" />
                                        <Key frame="151" value="-25.8378" />
                                        <Key frame="169" value="-20.8279" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-3.1617" />
                                        <Key frame="66" value="12.2194" />
                                        <Key frame="82" value="12.9225" />
                                        <Key frame="103" value="6.4185" />
                                        <Key frame="135" value="3.34229" />
                                        <Key frame="151" value="3.69386" />
                                        <Key frame="169" value="6.24272" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-39.9004" />
                                        <Key frame="66" value="12.2194" />
                                        <Key frame="82" value="12.7467" />
                                        <Key frame="103" value="11.1647" />
                                        <Key frame="135" value="-2.28278" />
                                        <Key frame="151" value="-2.54646" />
                                        <Key frame="169" value="12.483" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="56.8635" />
                                        <Key frame="66" value="22.5858" />
                                        <Key frame="82" value="26.453" />
                                        <Key frame="103" value="-5.10012" />
                                        <Key frame="135" value="28.914" />
                                        <Key frame="151" value="28.914" />
                                        <Key frame="169" value="4.56797" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-13.0983" />
                                        <Key frame="66" value="-17.0534" />
                                        <Key frame="82" value="-19.8659" />
                                        <Key frame="103" value="4.12851" />
                                        <Key frame="135" value="-7.64898" />
                                        <Key frame="151" value="-7.73688" />
                                        <Key frame="169" value="1.57965" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="0.529755" />
                                        <Key frame="66" value="-8.78677" />
                                        <Key frame="82" value="-8.69888" />
                                        <Key frame="103" value="-6.15002" />
                                        <Key frame="135" value="0.178188" />
                                        <Key frame="151" value="0.090296" />
                                        <Key frame="169" value="-4.12851" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="7.91266" />
                                        <Key frame="66" value="-8.17153" />
                                        <Key frame="82" value="-9.22623" />
                                        <Key frame="103" value="-3.95272" />
                                        <Key frame="135" value="-3.42537" />
                                        <Key frame="151" value="-3.60116" />
                                        <Key frame="169" value="-5.09532" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-36.2138" />
                                        <Key frame="66" value="12.8298" />
                                        <Key frame="82" value="13.445" />
                                        <Key frame="103" value="11.072" />
                                        <Key frame="135" value="1.75543" />
                                        <Key frame="151" value="1.57965" />
                                        <Key frame="169" value="13.445" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="54.4953" />
                                        <Key frame="66" value="21.0085" />
                                        <Key frame="82" value="24.3484" />
                                        <Key frame="103" value="-4.30429" />
                                        <Key frame="135" value="24.4363" />
                                        <Key frame="151" value="24.4363" />
                                        <Key frame="169" value="1.84813" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-13.9724" />
                                        <Key frame="66" value="-15.2029" />
                                        <Key frame="82" value="-17.4002" />
                                        <Key frame="103" value="3.16651" />
                                        <Key frame="135" value="-6.67737" />
                                        <Key frame="151" value="-6.76526" />
                                        <Key frame="169" value="3.69386" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="26" value="-2.01911" />
                                        <Key frame="66" value="6.50639" />
                                        <Key frame="82" value="6.85796" />
                                        <Key frame="103" value="3.86964" />
                                        <Key frame="135" value="2.11181" />
                                        <Key frame="151" value="2.28759" />
                                        <Key frame="169" value="2.90283" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Wait" id="7" localization="8" tooltip="Wait a moment before sending a signal on the output. &#x0A;Can be stopped anytime. &#x0A;Stimulating the input again before output is activated restarts the waiting period.&#x0A;" x="1540" y="648">
                            <bitmap>media/images/box/wait.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.waiting = None

    def onUnload(self):
        self.cancelWaiting()

    def triggerOutput(self):
        self.timerOutput()

    def cancelWaiting(self):
        if self.waiting:
            self.waiting.cancel()
        self.waiting = None

    def onInput_onStart(self):
        self.cancelWaiting()
        import qi
        self.waiting = qi.async(self.triggerOutput, delay=int(self.getParameter("Timeout (s)") * 1000 * 1000))

    def onInput_onStop(self):
        if self.getParameter("Trigger timerOutput if cancelled") and self.waiting and self.waiting.isRunning():
            self.timerOutput()
        self.onUnload()]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                            <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is elapsed, or if the box is stopped and the appropriate parameter is set." id="4" />
                            <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="2" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                            <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="If the box is currently waiting and cancelled, output will be stimulated." id="6" />
                        </Box>
                        <Box name="Excited" id="38" localization="8" tooltip="style:&#x0A;happy; fun&#x0A;tags:&#x0A;excited; agitated; exalted; nervous" x="1227" y="467">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="195">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-4.04542" />
                                        <Key frame="26" value="9.66569" />
                                        <Key frame="35" value="-11.4283" />
                                        <Key frame="44" value="0.876513" />
                                        <Key frame="55" value="-2.99072" />
                                        <Key frame="70" value="-4.3091" />
                                        <Key frame="84" value="-10.901" />
                                        <Key frame="100" value="-0.00240423" />
                                        <Key frame="117" value="-2.02391" />
                                        <Key frame="133" value="-5.80326" />
                                        <Key frame="195" value="-4.39699" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="18" value="-11.1647" />
                                        <Key frame="26" value="-6.24272" />
                                        <Key frame="35" value="-6.94585" />
                                        <Key frame="44" value="-12.5709" />
                                        <Key frame="55" value="-5.01223" />
                                        <Key frame="70" value="-10.6373" />
                                        <Key frame="84" value="10.8083" />
                                        <Key frame="100" value="-11.5162" />
                                        <Key frame="117" value="1" />
                                        <Key frame="133" value="-16.526" />
                                        <Key frame="195" value="-16.3503" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="86.5709" />
                                        <Key frame="24" value="85.1647" />
                                        <Key frame="33" value="66.7074" />
                                        <Key frame="42" value="75.2329" />
                                        <Key frame="53" value="70.9262" />
                                        <Key frame="68" value="80.5064" />
                                        <Key frame="82" value="51.1506" />
                                        <Key frame="98" value="92.2839" />
                                        <Key frame="115" value="37.9668" />
                                        <Key frame="130" value="82.7037" />
                                        <Key frame="195" value="80.9459" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="9.57779" />
                                        <Key frame="24" value="18.0154" />
                                        <Key frame="33" value="17.9275" />
                                        <Key frame="42" value="18.1912" />
                                        <Key frame="53" value="11.5114" />
                                        <Key frame="68" value="9.66569" />
                                        <Key frame="82" value="15.6423" />
                                        <Key frame="98" value="10.8083" />
                                        <Key frame="115" value="17.3123" />
                                        <Key frame="130" value="2.81013" />
                                        <Key frame="195" value="6.85315" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="-80.9507" />
                                        <Key frame="24" value="-86.7515" />
                                        <Key frame="33" value="-63.8118" />
                                        <Key frame="42" value="-65.4817" />
                                        <Key frame="53" value="-49.6612" />
                                        <Key frame="68" value="-47.5518" />
                                        <Key frame="82" value="-22.239" />
                                        <Key frame="98" value="-56.7805" />
                                        <Key frame="115" value="-16.1745" />
                                        <Key frame="130" value="-40.7842" />
                                        <Key frame="195" value="-43.333" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="16" value="-60.6429" />
                                        <Key frame="24" value="-39.2852" />
                                        <Key frame="33" value="-75.6724" />
                                        <Key frame="42" value="-54.051" />
                                        <Key frame="53" value="-68.9047" />
                                        <Key frame="68" value="-54.842" />
                                        <Key frame="82" value="-82.7916" />
                                        <Key frame="98" value="-44.4708" />
                                        <Key frame="115" value="-81.9127" />
                                        <Key frame="130" value="-50.2717" />
                                        <Key frame="195" value="-48.2502" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="24" value="26" />
                                        <Key frame="33" value="8" />
                                        <Key frame="42" value="21" />
                                        <Key frame="68" value="5" />
                                        <Key frame="82" value="-8.61579" />
                                        <Key frame="98" value="-13.5377" />
                                        <Key frame="115" value="-8.26423" />
                                        <Key frame="130" value="-14.0651" />
                                        <Key frame="195" value="-12.7467" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="24" value="0.8" />
                                        <Key frame="33" value="0.729091" />
                                        <Key frame="42" value="0.86" />
                                        <Key frame="68" value="0.645455" />
                                        <Key frame="82" value="0.108753" />
                                        <Key frame="98" value="0.10839" />
                                        <Key frame="115" value="0.108026" />
                                        <Key frame="130" value="0.10839" />
                                        <Key frame="195" value="0.112" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="79.2807" />
                                        <Key frame="22" value="58.8899" />
                                        <Key frame="31" value="70.3158" />
                                        <Key frame="40" value="63.5481" />
                                        <Key frame="51" value="83.0601" />
                                        <Key frame="66" value="89.3004" />
                                        <Key frame="80" value="72.7768" />
                                        <Key frame="96" value="86.7515" />
                                        <Key frame="113" value="45.4424" />
                                        <Key frame="130" value="93.2555" />
                                        <Key frame="195" value="90.443" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="-5.62747" />
                                        <Key frame="22" value="-11.9557" />
                                        <Key frame="31" value="-12.8346" />
                                        <Key frame="40" value="-9.84628" />
                                        <Key frame="51" value="-12.9225" />
                                        <Key frame="66" value="-12.0436" />
                                        <Key frame="80" value="-12.9225" />
                                        <Key frame="96" value="-14.5924" />
                                        <Key frame="113" value="-17.7565" />
                                        <Key frame="130" value="-6.59428" />
                                        <Key frame="195" value="-10.7252" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="93.6023" />
                                        <Key frame="22" value="69.0805" />
                                        <Key frame="31" value="80.4185" />
                                        <Key frame="40" value="66.6195" />
                                        <Key frame="51" value="89.3835" />
                                        <Key frame="66" value="96.9422" />
                                        <Key frame="80" value="48.8654" />
                                        <Key frame="96" value="58.3577" />
                                        <Key frame="113" value="29.0019" />
                                        <Key frame="130" value="56.0725" />
                                        <Key frame="195" value="58.5335" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="14" value="65.306" />
                                        <Key frame="22" value="77.3471" />
                                        <Key frame="31" value="54.0558" />
                                        <Key frame="40" value="70.4916" />
                                        <Key frame="51" value="50.8917" />
                                        <Key frame="66" value="40.081" />
                                        <Key frame="80" value="88.3336" />
                                        <Key frame="96" value="41.6631" />
                                        <Key frame="113" value="88.4215" />
                                        <Key frame="130" value="66.0091" />
                                        <Key frame="195" value="64.6907" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="22" value="-23" />
                                        <Key frame="31" value="-43" />
                                        <Key frame="40" value="-28" />
                                        <Key frame="66" value="-9" />
                                        <Key frame="80" value="-0.266079" />
                                        <Key frame="96" value="-2.1997" />
                                        <Key frame="113" value="-1.0571" />
                                        <Key frame="130" value="-0.529755" />
                                        <Key frame="195" value="1.40386" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="22" value="0.8" />
                                        <Key frame="31" value="0.745455" />
                                        <Key frame="40" value="0.814545" />
                                        <Key frame="66" value="0.618182" />
                                        <Key frame="80" value="0.21748" />
                                        <Key frame="96" value="0.217844" />
                                        <Key frame="113" value="0.213116" />
                                        <Key frame="130" value="0.213844" />
                                        <Key frame="195" value="0.2268" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="-18.6306" />
                                        <Key frame="67" value="-18.8064" />
                                        <Key frame="81" value="-20.8279" />
                                        <Key frame="97" value="-17.2244" />
                                        <Key frame="114" value="-21.3553" />
                                        <Key frame="130" value="-19.7732" />
                                        <Key frame="195" value="-19.3338" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="4.39699" />
                                        <Key frame="67" value="5.53958" />
                                        <Key frame="81" value="14.153" />
                                        <Key frame="97" value="-5.79845" />
                                        <Key frame="114" value="22.9421" />
                                        <Key frame="130" value="-8.25942" />
                                        <Key frame="195" value="-8.34731" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="20.3054" />
                                        <Key frame="67" value="20.1296" />
                                        <Key frame="81" value="-13.2692" />
                                        <Key frame="97" value="4.22121" />
                                        <Key frame="114" value="-18.5428" />
                                        <Key frame="130" value="2.37548" />
                                        <Key frame="195" value="2.72705" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="-2.99072" />
                                        <Key frame="67" value="-2.99072" />
                                        <Key frame="81" value="30.1445" />
                                        <Key frame="97" value="14.3239" />
                                        <Key frame="114" value="38.3184" />
                                        <Key frame="130" value="22.41" />
                                        <Key frame="195" value="22.5858" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="0.173379" />
                                        <Key frame="67" value="0.0854875" />
                                        <Key frame="81" value="-6.50639" />
                                        <Key frame="97" value="-5.80326" />
                                        <Key frame="114" value="-9.31893" />
                                        <Key frame="130" value="-9.75839" />
                                        <Key frame="195" value="-9.49471" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="-4.04062" />
                                        <Key frame="67" value="-4.91953" />
                                        <Key frame="81" value="-10.8083" />
                                        <Key frame="97" value="3.60596" />
                                        <Key frame="114" value="-16.3455" />
                                        <Key frame="130" value="6.4185" />
                                        <Key frame="195" value="5.97904" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="-11.1598" />
                                        <Key frame="67" value="-9.84147" />
                                        <Key frame="81" value="5.10012" />
                                        <Key frame="97" value="-15.2029" />
                                        <Key frame="114" value="14.153" />
                                        <Key frame="130" value="-18.5428" />
                                        <Key frame="195" value="-18.8064" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="20.6522" />
                                        <Key frame="67" value="20.6522" />
                                        <Key frame="81" value="-7.4732" />
                                        <Key frame="97" value="-0.969213" />
                                        <Key frame="114" value="-10.1978" />
                                        <Key frame="130" value="-0.881321" />
                                        <Key frame="195" value="-0.705531" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="-5.90622" />
                                        <Key frame="67" value="-5.90622" />
                                        <Key frame="81" value="22.9421" />
                                        <Key frame="97" value="7.03374" />
                                        <Key frame="114" value="30.325" />
                                        <Key frame="130" value="6.50639" />
                                        <Key frame="195" value="6.41851" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="3.34229" />
                                        <Key frame="67" value="3.2544" />
                                        <Key frame="81" value="-3.95272" />
                                        <Key frame="97" value="4.74856" />
                                        <Key frame="114" value="-7.3805" />
                                        <Key frame="130" value="7.20953" />
                                        <Key frame="195" value="7.38531" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="41" value="7.82477" />
                                        <Key frame="67" value="7.03374" />
                                        <Key frame="81" value="-1.66754" />
                                        <Key frame="97" value="11.7799" />
                                        <Key frame="114" value="-7.90785" />
                                        <Key frame="130" value="14.4166" />
                                        <Key frame="195" value="14.7682" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Angry" id="24" localization="8" tooltip="style:&#x0A;angry&#x0A;tags:&#x0A;angry; vexed; furious; irritated; edgy; nervy" x="1232" y="862">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="200">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="40" value="35.8574" />
                                        <Key frame="76" value="36.209" />
                                        <Key frame="139" value="22.4979" />
                                        <Key frame="200" value="23.9041" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="40" value="22.2342" />
                                        <Key frame="76" value="28.2108" />
                                        <Key frame="139" value="29.5016" />
                                        <Key frame="200" value="23.7284" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="97.5574" />
                                        <Key frame="73" value="94.8328" />
                                        <Key frame="120" value="94.8328" />
                                        <Key frame="200" value="86.0436" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="2.63435" />
                                        <Key frame="73" value="1.0523" />
                                        <Key frame="120" value="2.54646" />
                                        <Key frame="200" value="12.5661" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-64.8665" />
                                        <Key frame="73" value="-65.306" />
                                        <Key frame="120" value="-53.2648" />
                                        <Key frame="139" value="-16.1" />
                                        <Key frame="200" value="-28.5672" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-52.9084" />
                                        <Key frame="73" value="-62.9281" />
                                        <Key frame="120" value="-74.5298" />
                                        <Key frame="139" value="-83" />
                                        <Key frame="200" value="-77.1665" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="37" value="-9.23104" />
                                        <Key frame="73" value="-9.40682" />
                                        <Key frame="120" value="-9.49471" />
                                        <Key frame="200" value="-9.05525" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="37" value="0.114208" />
                                        <Key frame="73" value="0.114208" />
                                        <Key frame="120" value="0.114572" />
                                        <Key frame="200" value="0.1168" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="33" value="54.8468" />
                                        <Key frame="69" value="75.2377" />
                                        <Key frame="116" value="81.6538" />
                                        <Key frame="200" value="78.3139" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="33" value="-0.969213" />
                                        <Key frame="69" value="-0.79343" />
                                        <Key frame="116" value="-11.5162" />
                                        <Key frame="200" value="-16.2624" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="33" value="-11.4283" />
                                        <Key frame="69" value="24.5194" />
                                        <Key frame="116" value="30.6718" />
                                        <Key frame="139" value="16.1" />
                                        <Key frame="200" value="22.1463" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="33" value="53.9679" />
                                        <Key frame="69" value="49.837" />
                                        <Key frame="116" value="72.1615" />
                                        <Key frame="139" value="83" />
                                        <Key frame="200" value="77.6987" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="33" value="7.02893" />
                                        <Key frame="69" value="5.71056" />
                                        <Key frame="116" value="6.85315" />
                                        <Key frame="200" value="6.06212" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="33" value="0.207298" />
                                        <Key frame="69" value="0.207298" />
                                        <Key frame="116" value="0.207298" />
                                        <Key frame="200" value="0.2072" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-26.1014" />
                                        <Key frame="71" value="-29.9687" />
                                        <Key frame="118" value="-29.4413" />
                                        <Key frame="200" value="-29.5292" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-1.14019" />
                                        <Key frame="71" value="-3.51326" />
                                        <Key frame="118" value="-3.68905" />
                                        <Key frame="200" value="-3.24959" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="8.61579" />
                                        <Key frame="71" value="3.86964" />
                                        <Key frame="118" value="10.6373" />
                                        <Key frame="200" value="10.2857" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-4.66067" />
                                        <Key frame="71" value="-4.66067" />
                                        <Key frame="118" value="-4.66067" />
                                        <Key frame="200" value="-4.3091" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="11.6872" />
                                        <Key frame="71" value="15.6423" />
                                        <Key frame="118" value="14.7634" />
                                        <Key frame="200" value="14.8513" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="0.969213" />
                                        <Key frame="71" value="3.16651" />
                                        <Key frame="118" value="2.37548" />
                                        <Key frame="200" value="2.28759" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-8.17153" />
                                        <Key frame="71" value="-7.20472" />
                                        <Key frame="118" value="-12.2145" />
                                        <Key frame="200" value="-11.863" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-0.266079" />
                                        <Key frame="71" value="-5.10012" />
                                        <Key frame="118" value="-4.66067" />
                                        <Key frame="200" value="-5.01224" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="17.2292" />
                                        <Key frame="71" value="21.7117" />
                                        <Key frame="118" value="34.3681" />
                                        <Key frame="200" value="34.456" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="-2.01911" />
                                        <Key frame="71" value="-2.28278" />
                                        <Key frame="118" value="-11.5114" />
                                        <Key frame="200" value="-10.9841" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="35" value="5.62747" />
                                        <Key frame="71" value="5.80326" />
                                        <Key frame="118" value="5.97904" />
                                        <Key frame="200" value="5.3638" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Enthusiastic_5" id="4" localization="8" tooltip="style:&#x0A;happy&#x0A;tags:&#x0A;enthusiastic; rapturous; rousing; warm; zestful; raring; happy" x="1231" y="566">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="110">
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="110" value="-1.84813" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="17" value="20.1" />
                                        <Key frame="32" value="20.1" />
                                        <Key frame="49" value="20.1" />
                                        <Key frame="110" value="19.949" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="8" value="53.1721" />
                                        <Key frame="15" value="100.282" />
                                        <Key frame="24" value="53.1721" />
                                        <Key frame="30" value="100.282" />
                                        <Key frame="40" value="53.1721" />
                                        <Key frame="47" value="100.282" />
                                        <Key frame="110" value="98.9637" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="8" value="0.349163" />
                                        <Key frame="15" value="11.072" />
                                        <Key frame="24" value="0.349163" />
                                        <Key frame="30" value="11.072" />
                                        <Key frame="40" value="0.349163" />
                                        <Key frame="47" value="11.072" />
                                        <Key frame="110" value="11.6872" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="8" value="-75.5014" />
                                        <Key frame="15" value="-69.5248" />
                                        <Key frame="24" value="-75.5014" />
                                        <Key frame="30" value="-69.5248" />
                                        <Key frame="40" value="-75.5014" />
                                        <Key frame="47" value="-69.5248" />
                                        <Key frame="110" value="-72.0736" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="8" value="-49.9201" />
                                        <Key frame="15" value="-88.5" />
                                        <Key frame="24" value="-49.9201" />
                                        <Key frame="30" value="-88.5" />
                                        <Key frame="40" value="-49.9201" />
                                        <Key frame="47" value="-88.5" />
                                        <Key frame="110" value="-86.4831" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="8" value="-9.49471" />
                                        <Key frame="15" value="2.01911" />
                                        <Key frame="24" value="-9.49471" />
                                        <Key frame="30" value="2.01911" />
                                        <Key frame="40" value="-9.49471" />
                                        <Key frame="47" value="2.01911" />
                                        <Key frame="110" value="0.700723" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                        <Key frame="8" value="0.1" />
                                        <Key frame="15" value="0.1" />
                                        <Key frame="24" value="0.1" />
                                        <Key frame="30" value="0.1" />
                                        <Key frame="40" value="0.1" />
                                        <Key frame="47" value="0.1" />
                                        <Key frame="110" value="0.1072" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="6" value="100.463" />
                                        <Key frame="13" value="58.2746" />
                                        <Key frame="22" value="100.463" />
                                        <Key frame="28" value="58.2746" />
                                        <Key frame="38" value="100.463" />
                                        <Key frame="45" value="58.2746" />
                                        <Key frame="110" value="61.3508" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="6" value="-11.1647" />
                                        <Key frame="13" value="-8.70368" />
                                        <Key frame="22" value="-11.1647" />
                                        <Key frame="28" value="-8.70368" />
                                        <Key frame="38" value="-11.1647" />
                                        <Key frame="45" value="-8.70368" />
                                        <Key frame="110" value="-8.87946" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="6" value="58.8851" />
                                        <Key frame="13" value="59.0608" />
                                        <Key frame="22" value="58.8851" />
                                        <Key frame="28" value="59.0608" />
                                        <Key frame="38" value="58.8851" />
                                        <Key frame="45" value="59.0608" />
                                        <Key frame="110" value="57.7425" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="6" value="76.1166" />
                                        <Key frame="13" value="49.1339" />
                                        <Key frame="22" value="76.1166" />
                                        <Key frame="28" value="49.1339" />
                                        <Key frame="38" value="76.1166" />
                                        <Key frame="45" value="49.1339" />
                                        <Key frame="110" value="49.837" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                        <Key frame="6" value="-5.71537" />
                                        <Key frame="13" value="9.31412" />
                                        <Key frame="22" value="-5.71537" />
                                        <Key frame="28" value="9.31412" />
                                        <Key frame="38" value="-5.71537" />
                                        <Key frame="45" value="9.31412" />
                                        <Key frame="110" value="7.55628" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                        <Key frame="6" value="0.1" />
                                        <Key frame="13" value="0.1" />
                                        <Key frame="22" value="0.1" />
                                        <Key frame="28" value="0.1" />
                                        <Key frame="38" value="0.1" />
                                        <Key frame="45" value="0.1" />
                                        <Key frame="110" value="0.1084" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-18.9822" />
                                        <Key frame="29" value="-18.9822" />
                                        <Key frame="46" value="-18.9822" />
                                        <Key frame="110" value="-19.0701" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="9.05525" />
                                        <Key frame="29" value="9.05525" />
                                        <Key frame="46" value="9.05525" />
                                        <Key frame="110" value="9.05525" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-15.9939" />
                                        <Key frame="29" value="-15.9939" />
                                        <Key frame="46" value="-15.9939" />
                                        <Key frame="110" value="-16.2576" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="26.1014" />
                                        <Key frame="29" value="26.1014" />
                                        <Key frame="46" value="26.1014" />
                                        <Key frame="110" value="26.2772" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-4.13332" />
                                        <Key frame="29" value="-4.13332" />
                                        <Key frame="46" value="-4.13332" />
                                        <Key frame="110" value="-4.04543" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-9.22623" />
                                        <Key frame="29" value="-9.22623" />
                                        <Key frame="46" value="-9.22623" />
                                        <Key frame="110" value="-9.40201" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="3.34229" />
                                        <Key frame="29" value="3.34229" />
                                        <Key frame="46" value="3.34229" />
                                        <Key frame="110" value="4.66066" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-16.4382" />
                                        <Key frame="29" value="-16.4382" />
                                        <Key frame="46" value="-16.4382" />
                                        <Key frame="110" value="-16.4382" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="32.2587" />
                                        <Key frame="29" value="32.2587" />
                                        <Key frame="46" value="32.2587" />
                                        <Key frame="110" value="32.6102" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-10.193" />
                                        <Key frame="29" value="-10.193" />
                                        <Key frame="46" value="-10.193" />
                                        <Key frame="110" value="-10.4567" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                        <Key frame="14" value="-2.107" />
                                        <Key frame="29" value="-2.107" />
                                        <Key frame="46" value="-2.107" />
                                        <Key frame="110" value="-2.45857" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="All motors" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Set Language" id="8" localization="8" tooltip="Select the language you would like the robot to speak and understand. Any following call to&#x0A;ALSpeechRecognition (Speech Reco. box for instance) or ALTextToSpeech (Say box&#x0A;for instance) will use this language." x="125" y="161">
                            <bitmap>media/images/box/interaction/say.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        try:
            self.tts = ALProxy("ALTextToSpeech")
        except:
            self.logger.warn("ALTextToSpeech is not available, language setting cannot be applied to speech")
            self.tts = None

        try:
            self.asr = ALProxy("ALSpeechRecognition")
        except:
            self.logger.warn("ALSpeechRecognition is not available, language setting cannot be applied to recognition")
            self.asr = None

        try:
            self.dialog = ALProxy("ALDialog")
        except:
            self.logger.warn("ALDialog is not available, language setting cannot be applied to dialog")
            self.dialog = None

    def onInput_onSet(self):
        lang = self.getParameter("Language")
        try:
            if self.asr:
                self.asr.setLanguage( self.getParameter("Language") )
            if self.tts:
                self.tts.setLanguage( self.getParameter("Language") )
            if self.dialog:
                self.dialog.setLanguage( self.getParameter("Language") )
            if self.tts is None and self.asr is None and self.dialog is None:
                raise RuntimeError("Cannot set language: neither ALTextToSpeech nor ALSpeechRecognition nor ALDialog is available.")
            self.onReady()
        except:
            error = "Language " + lang + " cannot be set."
            self.logger.warn(error)
            self.onError(error)]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onSet" type="1" type_size="1" nature="1" inner="0" tooltip="The data is set when a signal is received on this input." id="2" />
                            <Output name="onReady" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when the data has been set." id="3" />
                            <Output name="onError" type="3" type_size="1" nature="2" inner="0" tooltip="Error output:&#x0A;- triggered if the language asked cannot be set" id="4" />
                            <Parameter name="Language" inherits_from_parent="0" content_type="3" value="Dutch" default_value="English" custom_choice="1" tooltip="Set the language the robot speaks and understands." id="5">
                                <Choice value="Arabic" />
                                <Choice value="Brazilian" />
                                <Choice value="Chinese" />
                                <Choice value="Czech" />
                                <Choice value="Danish" />
                                <Choice value="Dutch" />
                                <Choice value="English" />
                                <Choice value="Finnish" />
                                <Choice value="French" />
                                <Choice value="German" />
                                <Choice value="Italian" />
                                <Choice value="Japanese" />
                                <Choice value="Korean" />
                                <Choice value="Polish" />
                                <Choice value="Portuguese" />
                                <Choice value="Russian" />
                                <Choice value="Spanish" />
                                <Choice value="Swedish" />
                                <Choice value="Turkish" />
                            </Parameter>
                            <Resource name="Speech" type="Lock" timeout="0" />
                        </Box>
                        <Box name="ServerBox" id="1" localization="8" tooltip="NOTE: This is a special version of ServerBox for the Emotion therapy.  If the behaviour to be executed belongs to a predefinedd list, instead run such behaviour the box stimulates a specific output&#x0A;&#x0A;Server box that receives JSON messages and execute different actions in the robot. The box start the server according to the following rules:&#x0A;&#x0A;- If &apos;eth0&apos; has a valid IP, the server will listen in its address&#x0A;- If &apos;eth0&apos; is not available and &apos;wlan0&apos; has a valid IP, the server will listen in &apos;wlan0&apos;&#x0A;&#x0A;At the moment the server cannot detect changes in the interfaces. If you switch on the ethernet cable after the robot boot, you need to restart the behaviour (or the robot) to make it able to start to listen" x="118" y="292">
                            <bitmap>media/images/box/box-script.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[import SocketServer
import socket
import json
import time
from naoqi import ALProxy


class ServerHandler(SocketServer.BaseRequestHandler):
    def handle(self):
        # Receive JSON message
        buff = self.request.recv(1024)
        message = json.loads(buff.strip())

        # Decode JSON message
        message_encoded = json.dumps(message)
        message_decoded = json.loads(message_encoded)
        command = message_decoded["command"].lower()

        # Some debug
        self.server.box.log("Message received:" + repr(buff))
        # self.server.box.log("Command received:" + repr(command))

        # Response for the client
        success = True
        response = {'command': command}
        information = ''

        if command == 'say':
            sentence = str(message_decoded['sentence'])
            attitude = str(message_decoded['attitude'])

            self.server.box.say(sentence, attitude)

            # Response for the client
            response['result'] = str(success)

        elif command == 'set':
            parameter = str(message_decoded['parameter'])
            value = str(message_decoded['value'])
            if parameter == 'volume':
                success = self.server.box.setVolume(float(value))

            elif parameter == 'behaviour':
                success, parameter = self.server.box.setBehaviour(value)

            elif parameter == 'stiffness':
                success = self.server.box.setStiffness(value)

            elif parameter == 'language':
                success = self.server.box.setLanguage(value)

            # Response for the client
            response['result'] = str(success)
            response['parameter'] = str(parameter)

        elif command == 'get':
            parameter = str(message_decoded['parameter'])

            if parameter == 'volume':
                information = self.server.box.getVolume()

            if parameter == 'running_behaviours':
                behaviours = self.server.box.getRunningBehavioursList()
                information = ';'.join(behaviours)

            if parameter == 'available_behaviours':
                behaviours = self.server.box.getAvailableBehavioursList()
                information = ';'.join(behaviours)

            if parameter == 'available_languages':
                languages = self.server.box.getAvailableLanguages()
                information = ';'.join(languages)

            if parameter == 'current_language':
                information = self.server.box.getLanguage()

            if parameter == 'available_attitudes':
                information = self.server.box.getAttitudes()

            if parameter == 'battery':
                information = self.server.box.getBatteryLevel()

            response['information'] = information
            response['parameter'] = parameter

        elif command == 'stop':
            behaviour = str(message_decoded['behaviour'])

            if behaviour == 'all':
                # Stop all possible behaviours
                self.server.box.stopAllBehaviours()
            else:
                # Stop the specified behaviour
                self.server.box.stopBehaviour(behaviour)
                response['parameter'] = str(behaviour)


        # Send response
        json_response = json.dumps(response)

        self.server.box.log('Response: ' + repr(json_response))
        self.request.sendall(json_response)

class ThreadedTCPServer(SocketServer.ThreadingMixIn, SocketServer.TCPServer):
    pass

class Utils:
    """
    Portable class with some useful methods
    """
    def __init__(self):
        pass

    def getRobotIp(self):
        """
        Return a dictionary with the IP address of the active robot interfaces
        """

        # This should be a portable class, so, just to be sure the module
        # has been imported
        from naoqi import ALProxy
        proxy = ALProxy('ALConnectionManager')

        interfaces = {}
        for service in proxy.services():
            network = dict(service)

            # Only id the interface is connected (or 'ready')
            if network['State'] == 'online' or \
               network['State'] == 'ready':

                # 'ServiceId' has a string like 'ethernet_xxx' or 'wifi_xxx'
                service_id = network['ServiceId']

                # IPv4 address
                address = dict(network['IPv4'])['Address']

                # Fill the interfaces dictionary
                if 'ethernet' in service_id:
                    interfaces['eth0'] = address
                elif 'wifi' in service_id:
                    interfaces['wlan0'] = address

        return interfaces


class MyClass(GeneratedClass):
    """
    Server box that receives JSON messages and execute different actions
    in the robot. The box start the server according to the following rules:

    - If 'eth0' has a valid IP, the server will listen in its address
    - If 'eth0' is not available and 'wlan0' has a valid IP, the server will
    listen in 'wlan0'

    At the moment the server cannot detect changes in the interfaces. If you
    switch on the ethernet cable after the robot boot, you need to restart
    the behaviour (or the robot) to make it able to start to listen
    """
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.last_started_behaviour = []
        # The box has an integer parameter called "Port"
        self.port = self.getParameter("Port")

        # We get the IP from the system
        utils = Utils()
        self.ip = None
        tries = 0
        while self.ip == None and tries < 10:
            # Keep active the Behaviour till a connection
            # is available
            interfaces = utils.getRobotIp()

            # Is ethernet connected?
            if 'eth0' in interfaces:
                self.ip = interfaces['eth0']
            elif 'wlan0' in interfaces:
                self.ip = interfaces['wlan0']
            else:
                self.ip = None
                # Sleep 2 seconds
                tries += 1
                time.sleep(2)

        self.log("IP found: " + self.ip)

        # Flag to stop the server
        self.server_listening = True

        # Server
        self.server = None
        self.server_thread = None

    def onUnload(self):
        #self.server_running = False
        # Stop the server
        self.stop_server()

    def onInput_onStart(self):
        self.start_server()

        # Say the next box that this box has finished
        self.onStopped()

    def onInput_onStop(self):
        # it is recommended to call onUnload of this box in a onStop method,
        # as the code written in onUnload is used to stop the box as well
        self.stop_server()
        #self.onUnload()

    def onInput_RunningBehaviours(self, running_behaviours):
        if not self.last_started_behaviour:
            return

        for behaviour in self.last_started_behaviour:
          if behaviour in running_behaviours:
              pass
          else:
              self.last_started_behaviour.remove(behaviour)
              self.behaviour_finished(behaviour)

    def stopAllBehaviours(self):
        """ Stop all behaviours except the default behaviour and this Server"""
        proxy = ALProxy("ALBehaviorManager")

        for behaviour in proxy.getRunningBehaviors():
            if not behaviour in '.currentChoregrapheBehavior' \
                and not behaviour in 'ServerBox':
                proxy.stopBehavior(behaviour)

    def stopBehaviour(self, behaviour):
        """Stop the specified behaviour, even the ServerBox behaviour"""
        proxy = ALProxy("ALBehaviorManager")

        if behaviour in proxy.getRunningBehaviors():
            proxy.stopBehavior(behaviour)

    def setVolume(self, volume):
        proxy = ALProxy("ALTextToSpeech")

        if volume < 0.0 or volume > 1.0:
            return False

        self.log("Setting volume:" + str(volume))
        proxy.setVolume(volume)

        return True

    def setBehaviour(self, behaviour):
        emotion_list = ['Disappointed', 'Mournful', 'Rejected',
                        'Cheerful', 'Excited', 'Enthusiastic',
                        'Furious', 'Infuriating', 'Angry', 'Mad',
                        'Terrified', 'Startled', 'Insecure']
        proxy = ALProxy("ALBehaviorManager")

        if behaviour.split('/')[1] in emotion_list:
            self.emotion_output(behaviour.split('/')[1])
            return True, behaviour

        # If the behaviour is not installed, return False
        if not proxy.isBehaviorInstalled(behaviour):
            return False, behaviour

        # Stimulate starting_behaviour output
        self.starting_behaviour()

        # Stop the behaviour.
        if (proxy.isBehaviorRunning(behaviour)):
            proxy.stopBehavior(behaviour)

        # Set NAO in Stiffness On
        # self.setStiffness('on')

        # Run the Behaviour
        proxy.runBehavior(behaviour)
        self.last_started_behaviour.append(behaviour)
        self.log("Starting Behaviour:" + behaviour)

        return True, behaviour

    def setStiffness(self, action):
        proxy = ALProxy("ALMotion")

        # Check the robot is not moving
        while proxy.moveIsActive():
            time.sleep(0.1)

        # We use the "Body" name to signify the collection of all joints
        pNames = "Body"
        action = action.lower()
        pStiffnessLists = 1.0 if action == 'on' else 0.0
        pTimeLists = 1.0

        while proxy.moveIsActive():
            time.sleep(0.1)

        self.log("Setting stiffness:" + action)
        proxy.stiffnessInterpolation(pNames, pStiffnessLists, pTimeLists)
        return True

    def setLanguage(self, language):
        proxy = ALProxy("ALSpeechRecognition")
        proxy.setLanguage(language)

        proxy = ALProxy("ALTextToSpeech")
        proxy.setLanguage(language)

        return True

    def setAttitude(self, sentence, attitude):
        if attitude == "Normal":
            sentence = "^startTag(body language)" + sentence

        if attitude == "Positive":
            sentence = "^startTag(affirmative)" + sentence

        if attitude == "Negative":
            sentence = "^startTag(negative)" + sentence

        if attitude == "Happy":
            sentence = "^startTag(happy)" + sentence

        if attitude == "Sad":
            sentence = "^startTag(unfamiliar)" + sentence
        return sentence

    def say(self, sentence, attitude = ''):
        # proxy = ALProxy("ALTextToSpeech")
        proxy = ALProxy("ALAnimatedSpeech")

        # The sentence is separated by dots, inserting a pause and reducing the speed
        for s in sentence.split('.'):
            s = self.setAttitude(s, attitude)
            s = '\\rspd=85\\' + s
            s = s.replace(',', ',\\pau=300\\')

            # if attitude:
                # self.log(self.setBehaviour(attitude))

            # Small delay to give time to the behaviour to start
            time.sleep(0.4)
            self.log("Speaking:" + s)
            proxy.say(s)
            self.log("Speaking finished")

        return True

    def getBatteryLevel(self):
        """
        Return the battery level, string between 0 and 1
        """
        proxy = ALProxy("ALMemory")

        return u'%.2f' % proxy.getData('Device/SubDeviceList/Battery/Charge/Sensor/Value')

    def getVolume(self):
        proxy = ALProxy("ALTextToSpeech")

        return u'%.2f' % proxy.getVolume()

    def getRunningBehavioursList(self):
        proxy = ALProxy("ALBehaviorManager")

        behaviours = proxy.getRunningBehaviors()()

        if '.currentChoregrapheBehavior' in behaviours:
            behaviours.remove('.currentChoregrapheBehavior')

        return behaviours

    def getAvailableBehavioursList(self):
        """ Return a list of available behaviours. The list does not include
        the default behaviour"""
        proxy = ALProxy("ALBehaviorManager")

        behaviours = proxy.getInstalledBehaviors()

        if '.currentChoregrapheBehavior' in behaviours:
            behaviours.remove('.currentChoregrapheBehavior')

        if 'ServerBox' in behaviours:
            behaviours.remove('ServerBox')

        return behaviours

    def getAvailableLanguages(self):
        """ Return a list of available languages"""
        proxy = ALProxy("ALSpeechRecognition")

        return proxy.getAvailableLanguages()

    def getLanguage(self):
        """ Return a list of available languages"""
        proxy = ALProxy("ALSpeechRecognition")

        return proxy.getLanguage()

    def getAttitudes(self):
        # TODO
        # Set a specific tag or prefix for installed behaviours that represent
        # attitudes. Just return this behaviours
        return ['Happy', 'Sad', 'Neutral']

    def start_server(self):
        # No IP?, return
        if self.ip is None:
            return

        # Some debug information
        self.log("Starting server in:" + self.ip + ":" + repr(self.port))

        # Create the server and start to listen
        SocketServer.TCPServer.allow_reuse_address = True
        self.server = ThreadedTCPServer((self.ip, self.port), ServerHandler)

        # We set the address to be reused. This is useful if we restart the box
        self.server.socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)

        # Set the box in the server, used to call server methods
        self.server.box = self

        # Start serving. This loop ends when the 'server.shutdown()' is called
        self.server_thread = threading.Thread(target=self.server.serve_forever)
        self.server_thread.daemon = True
        self.server_thread.start()
        #~ self.server.serve_forever()
        self.server_ready()

    def stop_server(self):
        # Some debug information
        self.log("Stopping server in:" + self.ip + ":" + repr(self.port))
        if self.server is not None:

            # Stop the server loop
            self.server.shutdown()

            # Just, to be sure the socket has been closed (for reuse case)
            self.server.server_close()

            # Some more debug information
            self.log("Server stopped")]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="RunningBehaviours" type="3" type_size="1" nature="1" inner="0" tooltip="Receive a list with the running behaviours" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
                            <Output name="starting_behaviour" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                            <Output name="behaviour_finished" type="3" type_size="1" nature="2" inner="0" tooltip="" id="7" />
                            <Output name="emotion_output" type="3" type_size="1" nature="2" inner="0" tooltip="" id="8" />
                            <Output name="server_ready" type="1" type_size="1" nature="2" inner="0" tooltip="" id="9" />
                            <Parameter name="Port" inherits_from_parent="0" content_type="1" value="12345" default_value="12345" min="1024" max="60000" tooltip="" id="10" />
                        </Box>
                        <Box name="Explain_10" id="48" localization="8" tooltip="tags:&#x0A;body language; explain; present; clear" x="627" y="190">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Input name="input_emotion" type="3" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="5" />
                            <Output name="output_emotion" type="3" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="7" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="124">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram>
                                            <Box name="Say" id="1" localization="8" tooltip="Say some text. Note that you must open the box to enter the text." x="454" y="34">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" localization="8" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" localization="8" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " I am going to express a emotion. Pay attention, please ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Ik ga naar een emotie uit te drukken. Besteed aandacht, alstjeblieft ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>
                                                                            <![CDATA[你好]]>
</chinese>
                                                                        <english>
                                                                            <![CDATA[I am going to express a emotion. Pay attention, please]]>
</english>
                                                                        <french>
                                                                            <![CDATA[Bonjour]]>
</french>
                                                                        <german>
                                                                            <![CDATA[Hallo]]>
</german>
                                                                        <italian>
                                                                            <![CDATA[Ciao]]>
</italian>
                                                                        <japanese>
                                                                            <![CDATA[こんにちは]]>
</japanese>
                                                                        <korean>
                                                                            <![CDATA[안녕하세요]]>
</korean>
                                                                        <portuguese>
                                                                            <![CDATA[Olá]]>
</portuguese>
                                                                        <brazilian>
                                                                            <![CDATA[Olá]]>
</brazilian>
                                                                        <spanish>
                                                                            <![CDATA[Hola]]>
</spanish>
                                                                        <arabic>
                                                                            <![CDATA[مرحبا]]>
</arabic>
                                                                        <polish>
                                                                            <![CDATA[Cześć]]>
</polish>
                                                                        <czech>
                                                                            <![CDATA[Ahoj]]>
</czech>
                                                                        <dutch>
                                                                            <![CDATA[Ik ga naar een emotie uit te drukken. Besteed aandacht, alstjeblieft]]>
</dutch>
                                                                        <danish>
                                                                            <![CDATA[Hej]]>
</danish>
                                                                        <finnish>
                                                                            <![CDATA[Hei]]>
</finnish>
                                                                        <swedish>
                                                                            <![CDATA[Hallå]]>
</swedish>
                                                                        <russian>
                                                                            <![CDATA[Привет]]>
</russian>
                                                                        <turkish>
                                                                            <![CDATA[Merhaba]]>
</turkish>
                                                                        <language>13</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                                <Resource name="Speech" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-6.33061" />
                                        <Key frame="32" value="-2.37548" />
                                        <Key frame="50" value="-2.37548" />
                                        <Key frame="93" value="-6.33061" />
                                        <Key frame="106" value="-2.37548" />
                                        <Key frame="124" value="-2.37548" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="12.7419" />
                                        <Key frame="32" value="-9.5826" />
                                        <Key frame="50" value="-10.7252" />
                                        <Key frame="93" value="12.7419" />
                                        <Key frame="106" value="-9.5826" />
                                        <Key frame="124" value="-10.7252" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="76.6392" />
                                        <Key frame="30" value="81.3853" />
                                        <Key frame="48" value="86.4831" />
                                        <Key frame="91" value="76.6392" />
                                        <Key frame="104" value="81.3853" />
                                        <Key frame="122" value="86.4831" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="19.7732" />
                                        <Key frame="30" value="20.0369" />
                                        <Key frame="48" value="20.1248" />
                                        <Key frame="91" value="19.7732" />
                                        <Key frame="104" value="20.0369" />
                                        <Key frame="122" value="20.1248" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-69.4369" />
                                        <Key frame="30" value="-73.8315" />
                                        <Key frame="48" value="-75.853" />
                                        <Key frame="91" value="-69.4369" />
                                        <Key frame="104" value="-73.8315" />
                                        <Key frame="122" value="-75.853" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-76.0239" />
                                        <Key frame="30" value="-50.2717" />
                                        <Key frame="48" value="-45.4376" />
                                        <Key frame="91" value="-76.0239" />
                                        <Key frame="104" value="-50.2717" />
                                        <Key frame="122" value="-45.4376" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-65" />
                                        <Key frame="48" value="-68.3822" />
                                        <Key frame="91" value="-65" />
                                        <Key frame="122" value="-68.3822" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="0.156364" />
                                        <Key frame="48" value="0.155662" />
                                        <Key frame="91" value="0.156364" />
                                        <Key frame="122" value="0.155662" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="70.14" />
                                        <Key frame="28" value="78.8413" />
                                        <Key frame="46" value="83.2359" />
                                        <Key frame="89" value="70.14" />
                                        <Key frame="102" value="78.8413" />
                                        <Key frame="120" value="83.2359" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="-18.8991" />
                                        <Key frame="28" value="-17.9323" />
                                        <Key frame="46" value="-17.7565" />
                                        <Key frame="89" value="-18.8991" />
                                        <Key frame="102" value="-17.9323" />
                                        <Key frame="120" value="-17.7565" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="71.1899" />
                                        <Key frame="28" value="78.3091" />
                                        <Key frame="46" value="83.4947" />
                                        <Key frame="89" value="71.1899" />
                                        <Key frame="102" value="78.3091" />
                                        <Key frame="120" value="83.4947" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="70.4916" />
                                        <Key frame="28" value="49.4854" />
                                        <Key frame="46" value="42.2783" />
                                        <Key frame="89" value="70.4916" />
                                        <Key frame="102" value="49.4854" />
                                        <Key frame="120" value="42.2783" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="60" />
                                        <Key frame="46" value="60.0276" />
                                        <Key frame="89" value="60" />
                                        <Key frame="120" value="60.0276" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="15" value="0.163636" />
                                        <Key frame="46" value="0.165117" />
                                        <Key frame="89" value="0.163636" />
                                        <Key frame="120" value="0.165117" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="-19.7732" />
                                        <Key frame="121" value="-19.7732" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="3.2544" />
                                        <Key frame="121" value="3.2544" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="13.7135" />
                                        <Key frame="121" value="13.7135" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="-2.02391" />
                                        <Key frame="121" value="-2.02391" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="3.95272" />
                                        <Key frame="121" value="3.95272" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="-2.63435" />
                                        <Key frame="121" value="-2.63435" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="-3.1617" />
                                        <Key frame="121" value="-3.1617" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="15.2029" />
                                        <Key frame="121" value="15.2029" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="-5.29" />
                                        <Key frame="121" value="-5.29" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="6.77007" />
                                        <Key frame="121" value="6.77007" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="47" value="1.49656" />
                                        <Key frame="121" value="1.49656" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Store Value (1)" id="9" localization="8" tooltip="This box stores a vale when the setValue input is stimulated with a string.&#x0A;&#x0A;If the onStart input is stimulated, the value ir returned on the getValue output&#x0A;" x="973" y="397">
                            <bitmap>media/images/box/box-python-script.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        self.value = ""
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        self.getValue(self.value)


    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box

    def onInput_setValue(self, value):
        self.value = value]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="setValue" type="3" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
                            <Output name="getValue" type="3" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        </Box>
                        <Box name="Python Script" id="21" localization="8" tooltip="This box contains a basic python script and can be used to create any python script box you would like.&#x0A;&#x0A;To edit its script, double-click on it." x="477" y="195">
                            <bitmap>media/images/box/box-python-script.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        self.first_time = True

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_reset(self):
        self.first_time = True

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        if self.first_time:
            self.first_time = False
            self.onStopped()
        else:
            self.output2()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="reser" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
                            <Output name="output2" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        </Box>
                        <Box name="Explain_8" id="46" localization="8" tooltip="tags:&#x0A;body language; explain; present; clear" x="805" y="340">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="58">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe7" index="7">
                                        <Diagram>
                                            <Box name="Say" id="1" localization="8" tooltip="Say some text. Note that you must open the box to enter the text." x="137" y="54">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" localization="8" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" localization="8" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " OK, please pay attention ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Nu moet je goed opletten ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>
                                                                            <![CDATA[你好]]>
</chinese>
                                                                        <english>
                                                                            <![CDATA[OK, please pay attention]]>
</english>
                                                                        <french>
                                                                            <![CDATA[Bonjour]]>
</french>
                                                                        <german>
                                                                            <![CDATA[Hallo]]>
</german>
                                                                        <italian>
                                                                            <![CDATA[Ciao]]>
</italian>
                                                                        <japanese>
                                                                            <![CDATA[こんにちは]]>
</japanese>
                                                                        <korean>
                                                                            <![CDATA[안녕하세요]]>
</korean>
                                                                        <portuguese>
                                                                            <![CDATA[Olá]]>
</portuguese>
                                                                        <brazilian>
                                                                            <![CDATA[Olá]]>
</brazilian>
                                                                        <spanish>
                                                                            <![CDATA[Hola]]>
</spanish>
                                                                        <arabic>
                                                                            <![CDATA[مرحبا]]>
</arabic>
                                                                        <polish>
                                                                            <![CDATA[Cześć]]>
</polish>
                                                                        <czech>
                                                                            <![CDATA[Ahoj]]>
</czech>
                                                                        <dutch>
                                                                            <![CDATA[Nu moet je goed opletten]]>
</dutch>
                                                                        <danish>
                                                                            <![CDATA[Hej]]>
</danish>
                                                                        <finnish>
                                                                            <![CDATA[Hei]]>
</finnish>
                                                                        <swedish>
                                                                            <![CDATA[Hallå]]>
</swedish>
                                                                        <russian>
                                                                            <![CDATA[Привет]]>
</russian>
                                                                        <turkish>
                                                                            <![CDATA[Merhaba]]>
</turkish>
                                                                        <language>13</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                                <Resource name="Speech" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="21" value="-14.4166" />
                                        <Key frame="42" value="0.437054" />
                                        <Key frame="58" value="-3.60596" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="21" value="6.58948" />
                                        <Key frame="42" value="-11.8678" />
                                        <Key frame="58" value="-13.8014" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="60.1155" />
                                        <Key frame="40" value="75.145" />
                                        <Key frame="56" value="80.6822" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="2.28278" />
                                        <Key frame="40" value="1.22808" />
                                        <Key frame="56" value="1.75543" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-61.9661" />
                                        <Key frame="40" value="-92.5524" />
                                        <Key frame="56" value="-98.7927" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-65.2133" />
                                        <Key frame="40" value="-48.6017" />
                                        <Key frame="56" value="-47.9865" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="3.2" />
                                        <Key frame="40" value="-51" />
                                        <Key frame="56" value="-51.1554" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="0.563636" />
                                        <Key frame="40" value="0.754545" />
                                        <Key frame="56" value="0.725842" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="82.7964" />
                                        <Key frame="38" value="76.9077" />
                                        <Key frame="54" value="79.5444" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-1.145" />
                                        <Key frame="38" value="-0.881321" />
                                        <Key frame="54" value="-0.705538" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="70.311" />
                                        <Key frame="38" value="84.8131" />
                                        <Key frame="54" value="78.9244" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="57.4836" />
                                        <Key frame="38" value="45.0909" />
                                        <Key frame="54" value="42.7178" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="48" />
                                        <Key frame="38" value="61.4" />
                                        <Key frame="54" value="60.3792" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="0.709091" />
                                        <Key frame="38" value="0.8" />
                                        <Key frame="54" value="0.769478" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="-21.2674" />
                                        <Key frame="55" value="-21.4432" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="1.0571" />
                                        <Key frame="55" value="1.0571" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="12.3951" />
                                        <Key frame="55" value="12.3072" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="-5.29104" />
                                        <Key frame="55" value="-5.29104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="8.08363" />
                                        <Key frame="55" value="7.90785" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="-2.28278" />
                                        <Key frame="55" value="-2.37067" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="-12.0388" />
                                        <Key frame="55" value="-11.9509" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="9.31412" />
                                        <Key frame="55" value="9.22623" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="-5.90622" />
                                        <Key frame="55" value="-5.90622" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="10.7252" />
                                        <Key frame="55" value="10.4615" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="39" value="8.87947" />
                                        <Key frame="55" value="8.87947" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="Wait (1)" id="12" localization="8" tooltip="Wait a moment before sending a signal on the output. &#x0A;Can be stopped anytime. &#x0A;Stimulating the input again before output is activated restarts the waiting period.&#x0A;" x="800" y="179">
                            <bitmap>media/images/box/wait.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.waiting = None

    def onUnload(self):
        self.cancelWaiting()

    def triggerOutput(self):
        self.timerOutput()

    def cancelWaiting(self):
        if self.waiting:
            self.waiting.cancel()
        self.waiting = None

    def onInput_onStart(self):
        self.cancelWaiting()
        import qi
        self.waiting = qi.async(self.triggerOutput, delay=int(self.getParameter("Timeout (s)") * 1000 * 1000))

    def onInput_onStop(self):
        if self.getParameter("Trigger timerOutput if cancelled") and self.waiting and self.waiting.isRunning():
            self.timerOutput()
        self.onUnload()]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                            <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is elapsed, or if the box is stopped and the appropriate parameter is set." id="4" />
                            <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                            <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="If the box is currently waiting and cancelled, output will be stimulated." id="6" />
                        </Box>
                        <Box name="Wait (2)" id="17" localization="8" tooltip="Wait a moment before sending a signal on the output. &#x0A;Can be stopped anytime. &#x0A;Stimulating the input again before output is activated restarts the waiting period.&#x0A;" x="631" y="325">
                            <bitmap>media/images/box/wait.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.waiting = None

    def onUnload(self):
        self.cancelWaiting()

    def triggerOutput(self):
        self.timerOutput()

    def cancelWaiting(self):
        if self.waiting:
            self.waiting.cancel()
        self.waiting = None

    def onInput_onStart(self):
        self.cancelWaiting()
        import qi
        self.waiting = qi.async(self.triggerOutput, delay=int(self.getParameter("Timeout (s)") * 1000 * 1000))

    def onInput_onStop(self):
        if self.getParameter("Trigger timerOutput if cancelled") and self.waiting and self.waiting.isRunning():
            self.timerOutput()
        self.onUnload()]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                            <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is elapsed, or if the box is stopped and the appropriate parameter is set." id="4" />
                            <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                            <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="If the box is currently waiting and cancelled, output will be stimulated." id="6" />
                        </Box>
                        <Box name="Confident_1" id="25" localization="8" tooltip="style:&#x0A;happy; fun&#x0A;tags:&#x0A;confident; sure; assured" x="196" y="482">
                            <bitmap>media/images/box/movement/move.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.oldfps = ALFrameManager.getTimelineFps(self.getName())
        try:
            frameNumber.increaseParent( self.getName() );
        except BaseException, err:
            # if you don't want to use some encapsulated sub box, you will in that case. no worry...
            pass

    def onLoad(self):
        #puts code for box cleanup here
        pass

    def onUnload(self):
        #puts code for box cleanup here
        ""

    def onInput_onStart(self):
        newfps = (self.oldfps * self.getParameter("FPS (%)")) / 100
        ALFrameManager.setTimelineFps(self.getName(), newfps)
        pass

    def onInput_onStop(self):
        ""]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                            <Parameter name="FPS (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="20" max="200" tooltip="" id="5" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="124">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="FaceLeds" index="1">
                                        <Diagram scale="100">
                                            <Box name="confident" id="1" localization="8" tooltip="confident" x="124" y="37">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.bMustStop = False;
        self.bIsRunning = False;

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        self.onInput_onStop();

    def onInput_onStart(self):
        if( self.bIsRunning ):

            return;

        rDuration = 0.2;
        self.bMustStop = False;
        self.bIsRunning = True;

        while( not self.bMustStop ):
            ALLeds.post.fadeRGB( "FaceLed0", 0x1111ff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed1", 0xffccff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed2", 0x1111ff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed3", 0xffccff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed4", 0x1111ff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed5", 0xffccff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed6", 0x1111ff, rDuration );
            ALLeds.post.fadeRGB( "FaceLed7", 0xffccff, rDuration );

            #time.sleep( 0.1 );

            ALLeds.post.fadeRGB( "FaceLed0", 0xffccff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed1", 0x1111ff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed2", 0xffccff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed3", 0x1111ff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed4", 0xffccff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed5", 0x1111ff, rDuration*4 );
            ALLeds.post.fadeRGB( "FaceLed6", 0xffccff, rDuration*4 );
            ALLeds.fadeRGB( "FaceLed7", 0x1111ff, rDuration*4 );

            if( self.bMustStop ):
                break;

        self.bIsRunning = False;
        self.onStopped();

    def onInput_onStop(self):
        self.bMustStop = True;]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Say" id="2" localization="8" tooltip="Say some text. Note that you must open the box to enter the text." x="124" y="175">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" localization="8" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" localization="8" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " I am ready ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Ik ben er klar voor ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>
                                                                            <![CDATA[你好]]>
</chinese>
                                                                        <english>
                                                                            <![CDATA[I am ready]]>
</english>
                                                                        <french>
                                                                            <![CDATA[Bonjour]]>
</french>
                                                                        <german>
                                                                            <![CDATA[Hallo]]>
</german>
                                                                        <italian>
                                                                            <![CDATA[Ciao]]>
</italian>
                                                                        <japanese>
                                                                            <![CDATA[こんにちは]]>
</japanese>
                                                                        <korean>
                                                                            <![CDATA[안녕하세요]]>
</korean>
                                                                        <portuguese>
                                                                            <![CDATA[Olá]]>
</portuguese>
                                                                        <brazilian>
                                                                            <![CDATA[Olá]]>
</brazilian>
                                                                        <spanish>
                                                                            <![CDATA[Hola]]>
</spanish>
                                                                        <arabic>
                                                                            <![CDATA[مرحبا]]>
</arabic>
                                                                        <polish>
                                                                            <![CDATA[Cześć]]>
</polish>
                                                                        <czech>
                                                                            <![CDATA[Ahoj]]>
</czech>
                                                                        <dutch>
                                                                            <![CDATA[Ik ben er klar voor]]>
</dutch>
                                                                        <danish>
                                                                            <![CDATA[Hej]]>
</danish>
                                                                        <finnish>
                                                                            <![CDATA[Hei]]>
</finnish>
                                                                        <swedish>
                                                                            <![CDATA[Hallå]]>
</swedish>
                                                                        <russian>
                                                                            <![CDATA[Привет]]>
</russian>
                                                                        <turkish>
                                                                            <![CDATA[Merhaba]]>
</turkish>
                                                                        <language>13</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                                <Resource name="Speech" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                                <ActuatorList model="Nao">
                                    <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="21" value="-1.93602" />
                                        <Key frame="35" value="-2.28759" />
                                        <Key frame="50" value="-3.2544" />
                                        <Key frame="65" value="-3.69386" />
                                        <Key frame="96" value="-1.84813" />
                                        <Key frame="124" value="-1.67235" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="21" value="9.84147" />
                                        <Key frame="35" value="-8.61579" />
                                        <Key frame="50" value="7.3805" />
                                        <Key frame="65" value="-5.10012" />
                                        <Key frame="96" value="1.75543" />
                                        <Key frame="124" value="-10.5494" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="86.1315" />
                                        <Key frame="33" value="91.405" />
                                        <Key frame="63" value="96.6785" />
                                        <Key frame="94" value="97.2937" />
                                        <Key frame="122" value="85.7799" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="13.445" />
                                        <Key frame="33" value="22.5858" />
                                        <Key frame="63" value="24.871" />
                                        <Key frame="94" value="27.5956" />
                                        <Key frame="122" value="4.83164" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-40.9599" />
                                        <Key frame="33" value="-46.9366" />
                                        <Key frame="63" value="-47.9034" />
                                        <Key frame="94" value="-47.4639" />
                                        <Key frame="122" value="-65.3938" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="19" value="-54.842" />
                                        <Key frame="33" value="-61.6976" />
                                        <Key frame="63" value="-57.5667" />
                                        <Key frame="94" value="-64.5101" />
                                        <Key frame="122" value="-21.9705" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="33" value="-8.5279" />
                                        <Key frame="63" value="-28" />
                                        <Key frame="94" value="-28.1278" />
                                        <Key frame="122" value="-8.35212" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="33" value="0.110572" />
                                        <Key frame="63" value="0.254545" />
                                        <Key frame="94" value="0.24548" />
                                        <Key frame="122" value="0.109117" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="92.4645" />
                                        <Key frame="31" value="98.2654" />
                                        <Key frame="61" value="103.451" />
                                        <Key frame="92" value="105.472" />
                                        <Key frame="120" value="89.7399" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="-5.71537" />
                                        <Key frame="31" value="-14.944" />
                                        <Key frame="61" value="-18.3718" />
                                        <Key frame="92" value="-21.0964" />
                                        <Key frame="120" value="-2.72705" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="58.0061" />
                                        <Key frame="31" value="67.9379" />
                                        <Key frame="61" value="68.7289" />
                                        <Key frame="92" value="68.9926" />
                                        <Key frame="120" value="85.692" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="17" value="56.2531" />
                                        <Key frame="31" value="62.4934" />
                                        <Key frame="61" value="63.0208" />
                                        <Key frame="92" value="64.6907" />
                                        <Key frame="120" value="25.9305" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                        <Key frame="31" value="-0.705538" />
                                        <Key frame="61" value="19" />
                                        <Key frame="92" value="19.5096" />
                                        <Key frame="120" value="-0.529755" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                        <Key frame="31" value="0.223662" />
                                        <Key frame="61" value="0.305455" />
                                        <Key frame="92" value="0.292025" />
                                        <Key frame="120" value="0.226207" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-16.8728" />
                                        <Key frame="62" value="-16.6091" />
                                        <Key frame="93" value="-16.6091" />
                                        <Key frame="121" value="-18.367" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="8.26423" />
                                        <Key frame="62" value="8.35212" />
                                        <Key frame="93" value="8.35212" />
                                        <Key frame="121" value="5.27591" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="21.8874" />
                                        <Key frame="62" value="23.4695" />
                                        <Key frame="93" value="23.3816" />
                                        <Key frame="121" value="12.0436" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-4.83645" />
                                        <Key frame="62" value="-4.66067" />
                                        <Key frame="93" value="-4.66067" />
                                        <Key frame="121" value="-5.29104" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="0.437054" />
                                        <Key frame="62" value="-0.881321" />
                                        <Key frame="93" value="-0.881321" />
                                        <Key frame="121" value="7.11683" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-6.3258" />
                                        <Key frame="62" value="-6.41369" />
                                        <Key frame="93" value="-6.3258" />
                                        <Key frame="121" value="-4.65586" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-4.91953" />
                                        <Key frame="62" value="-5.88634" />
                                        <Key frame="93" value="-5.97423" />
                                        <Key frame="121" value="-3.24959" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="22.41" />
                                        <Key frame="62" value="24.871" />
                                        <Key frame="93" value="24.871" />
                                        <Key frame="121" value="11.9509" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-4.48007" />
                                        <Key frame="62" value="-5.44688" />
                                        <Key frame="93" value="-5.44688" />
                                        <Key frame="121" value="-4.56797" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="-0.173379" />
                                        <Key frame="62" value="-0.876513" />
                                        <Key frame="93" value="-0.876513" />
                                        <Key frame="121" value="6.33061" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                        <Key frame="32" value="3.34229" />
                                        <Key frame="62" value="3.86964" />
                                        <Key frame="93" value="3.95753" />
                                        <Key frame="121" value="2.55126" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                            <Resource name="Standing" type="Lock" timeout="2" />
                            <Resource name="Left eye" type="Lock" timeout="2" />
                            <Resource name="Right eye" type="Lock" timeout="2" />
                            <Resource name="HeadYaw" type="Lock" timeout="2" />
                            <Resource name="HeadPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowRoll" type="Lock" timeout="2" />
                            <Resource name="LElbowYaw" type="Lock" timeout="2" />
                            <Resource name="LWristYaw" type="Lock" timeout="2" />
                            <Resource name="LHand" type="Lock" timeout="2" />
                            <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                            <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowRoll" type="Lock" timeout="2" />
                            <Resource name="RElbowYaw" type="Lock" timeout="2" />
                            <Resource name="RWristYaw" type="Lock" timeout="2" />
                            <Resource name="RHand" type="Lock" timeout="2" />
                            <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                            <Resource name="LHipRoll" type="Lock" timeout="2" />
                            <Resource name="LHipPitch" type="Lock" timeout="2" />
                            <Resource name="LKneePitch" type="Lock" timeout="2" />
                            <Resource name="LAnklePitch" type="Lock" timeout="2" />
                            <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                            <Resource name="RHipRoll" type="Lock" timeout="2" />
                            <Resource name="RHipPitch" type="Lock" timeout="2" />
                            <Resource name="RKneePitch" type="Lock" timeout="2" />
                            <Resource name="RAnklePitch" type="Lock" timeout="2" />
                            <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                        </Box>
                        <Box name="If" id="26" localization="8" tooltip="Test a condition and stimulate the then or else outputs depending on the boolean&#x0A;value of the condition.&#x0A;The condition can be set in parameters." x="299" y="152">
                            <bitmap>media/images/box/box-diagram.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onData(self, p):
        param = self.getParameter("Value to compare")
        try:
            p = float(p)
            param = float(param)
        except:
            p = str(p)
            param = str(param)
        operator = self.getParameter("Condition operator")
        if( operator == "<" ):
            self.outputTrueOrFalse( p < param )
        elif( operator == "< or =" ):
            self.outputTrueOrFalse( p <= param )
        elif( operator == "=" ):
            self.outputTrueOrFalse( p == param )
        elif( operator == "> or =" ):
            self.outputTrueOrFalse( p >= param )
        elif( operator == ">" ):
            self.outputTrueOrFalse( p > param )
        elif( operator == "≠" ):
            self.outputTrueOrFalse( p != param )
        else:
            raise Exception( "Operator not known: " + str(operator) )

    def outputTrueOrFalse(self, condition):
        if( condition ):
            self.output_then()
        else:
            self.output_else()]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onData" type="0" type_size="1" nature="1" inner="0" tooltip="The data to test." id="2" />
                            <Output name="output_then" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent if the condition is true." id="3" />
                            <Output name="output_else" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent if the condition is false." id="4" />
                            <Parameter name="Condition operator" inherits_from_parent="0" content_type="3" value="=" default_value="≠" custom_choice="0" tooltip='Choose the condition operator.&#x0A;&#x0A;For example:&#x0A;If you choose &quot;&gt; or =&quot;, the condition will be: is the input is higher or equal&#x0A;than the parameter?' id="5">
                                <Choice value="&lt;" />
                                <Choice value="&lt; or =" />
                                <Choice value="=" />
                                <Choice value="&gt; or =" />
                                <Choice value="&gt;" />
                                <Choice value="≠" />
                            </Parameter>
                            <Parameter name="Value to compare" inherits_from_parent="0" content_type="3" value='&quot;WellDone&quot;' default_value="0" custom_choice="0" tooltip="This is the value which is compared to the input value." id="6" />
                        </Box>
                        <Box name="Switch Awareness" id="27" localization="8" tooltip="This box contains a basic python script and can be used to create any python script box you would like.&#x0A;&#x0A;To edit its script, double-click on it." x="418" y="29">
                            <bitmap>media/images/box/box-python-script.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        self.awareness = None
        self.awareness = ALProxy('ALBasicAwareness')

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        if self.awareness == None:
            return

        if self.awareness.isAwarenessRunning():
            self.awareness.stopAwareness()
            self.onAwarenessOn()
        else:
            self.awareness.startAwareness()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                            <Output name="onAwarenessOn" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                        </Box>
                        <Box name="Look At" id="23" localization="-1" tooltip="This box makes the robot look at a desired position." x="578" y="23">
                            <bitmap>media/images/box/movement/move_head.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tracker = ALProxy( "ALTracker" )

        self.x = 0.0
        self.y = 0.0
        self.z = 0.0

        self.maxSpeed = 0.5

        self.useWholeBody = False
        self.frame = 0 #FRAME TORSO

    def onLoad(self):
        self.BIND_PYTHON(self.getName(), "setParameter")

    def onUnload(self):
        pass

    def onInput_onStart(self):
        self.x = self.getParameter("X (m)")
        self.y = self.getParameter("Y (m)")
        self.z = self.getParameter("Z (m)")

        self.maxSpeed = self.getParameter("Speed (%)") / 100.0
        self.useWholeBody = self.getParameter("WholeBody")

        frameStr = self.getParameter("Frame")
        if frameStr == "Torso":
            self.frame = 0
        elif frameStr == "World":
            self.frame = 1
        elif frameStr == "Robot":
            self.frame = 2

        self.tracker.lookAt([self.x, self.y, self.z], self.frame, self.maxSpeed, self.useWholeBody)
        self.onStopped()

    def onInput_onStop(self):
        self.onUnload()
        pass

    def setParameter(self, parameterName, newValue):
        GeneratedClass.setParameter(self, parameterName, newValue)

        if (parameterName == "X (m)"):
            self.x = newValue
            self.tracker.lookAt([self.x, self.y, self.z], self.frame, self.maxSpeed, self.useWholeBody)
            self.onStopped()
            return

        if (parameterName == "Y (m)"):
            self.y = newValue
            self.tracker.lookAt([self.x, self.y, self.z], self.frame, self.maxSpeed, self.useWholeBody)
            self.onStopped()
            return

        if (parameterName == "Z (m)"):
            self.z = newValue
            self.tracker.lookAt([self.x, self.y, self.z], self.frame, self.maxSpeed, self.useWholeBody)
            self.onStopped()
            return

        if (parameterName == "Speed (%)"):
            self.maxSpeed = newValue / 100.0
            return

        if (parameterName == "WholeBody"):
            self.useWholeBody = newValue
            return

        if (parameterName == "Frame"):
            if(newValue == "Torso"):
                self.frame = 0
            elif newValue == "World":
                self.frame = 1
            elif newValue == "Robot":
                self.frame = 2]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                            <Parameter name="X (m)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0.001" max="10" tooltip="X coordinate of the target to look at." id="5" />
                            <Parameter name="Y (m)" inherits_from_parent="0" content_type="2" value="0" default_value="0" min="-10" max="10" tooltip="Y coordinate of the target to look at." id="6" />
                            <Parameter name="Z (m)" inherits_from_parent="0" content_type="2" value="0" default_value="0" min="-10" max="10" tooltip="Z coordinate of the target to look at." id="7" />
                            <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="29" default_value="50" min="1" max="100" tooltip="Speed to move the head towards the desired position." id="8" />
                            <Parameter name="WholeBody" inherits_from_parent="0" content_type="0" value="0" default_value="0" tooltip="Use whole body constraints" id="9" />
                            <Parameter name="Frame" inherits_from_parent="0" content_type="3" value="Torso" default_value="Torso" custom_choice="0" tooltip="Select the frame of target." id="10">
                                <Choice value="Torso" />
                                <Choice value="World" />
                                <Choice value="Robot" />
                            </Parameter>
                        </Box>
                        <Link inputowner="11" indexofinput="2" outputowner="2" indexofoutput="10" />
                        <Link inputowner="10" indexofinput="2" outputowner="2" indexofoutput="11" />
                        <Link inputowner="13" indexofinput="2" outputowner="2" indexofoutput="13" />
                        <Link inputowner="14" indexofinput="2" outputowner="2" indexofoutput="14" />
                        <Link inputowner="15" indexofinput="2" outputowner="2" indexofoutput="15" />
                        <Link inputowner="16" indexofinput="2" outputowner="2" indexofoutput="16" />
                        <Link inputowner="2" indexofinput="2" outputowner="18" indexofoutput="6" />
                        <Link inputowner="18" indexofinput="2" outputowner="19" indexofoutput="7" />
                        <Link inputowner="18" indexofinput="2" outputowner="19" indexofoutput="8" />
                        <Link inputowner="20" indexofinput="2" outputowner="0" indexofoutput="2" />
                        <Link inputowner="3" indexofinput="2" outputowner="2" indexofoutput="4" />
                        <Link inputowner="22" indexofinput="2" outputowner="2" indexofoutput="6" />
                        <Link inputowner="6" indexofinput="2" outputowner="2" indexofoutput="7" />
                        <Link inputowner="7" indexofinput="2" outputowner="3" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="22" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="6" indexofoutput="4" />
                        <Link inputowner="38" indexofinput="2" outputowner="2" indexofoutput="8" />
                        <Link inputowner="7" indexofinput="2" outputowner="38" indexofoutput="4" />
                        <Link inputowner="5" indexofinput="2" outputowner="2" indexofoutput="5" />
                        <Link inputowner="7" indexofinput="2" outputowner="5" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="11" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="10" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="13" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="14" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="15" indexofoutput="4" />
                        <Link inputowner="7" indexofinput="2" outputowner="16" indexofoutput="4" />
                        <Link inputowner="24" indexofinput="2" outputowner="2" indexofoutput="12" />
                        <Link inputowner="7" indexofinput="2" outputowner="24" indexofoutput="4" />
                        <Link inputowner="4" indexofinput="2" outputowner="2" indexofoutput="9" />
                        <Link inputowner="7" indexofinput="2" outputowner="4" indexofoutput="4" />
                        <Link inputowner="8" indexofinput="2" outputowner="0" indexofoutput="2" />
                        <Link inputowner="18" indexofinput="4" outputowner="1" indexofoutput="8" />
                        <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                        <Link inputowner="19" indexofinput="2" outputowner="7" indexofoutput="4" />
                        <Link inputowner="9" indexofinput="4" outputowner="1" indexofoutput="8" />
                        <Link inputowner="2" indexofinput="2" outputowner="9" indexofoutput="6" />
                        <Link inputowner="1" indexofinput="4" outputowner="0" indexofoutput="4" />
                        <Link inputowner="21" indexofinput="2" outputowner="1" indexofoutput="8" />
                        <Link inputowner="48" indexofinput="2" outputowner="21" indexofoutput="5" />
                        <Link inputowner="9" indexofinput="2" outputowner="43" indexofoutput="4" />
                        <Link inputowner="9" indexofinput="2" outputowner="46" indexofoutput="4" />
                        <Link inputowner="12" indexofinput="2" outputowner="48" indexofoutput="5" />
                        <Link inputowner="43" indexofinput="2" outputowner="12" indexofoutput="4" />
                        <Link inputowner="17" indexofinput="2" outputowner="21" indexofoutput="6" />
                        <Link inputowner="46" indexofinput="2" outputowner="17" indexofoutput="4" />
                        <Link inputowner="25" indexofinput="2" outputowner="1" indexofoutput="9" />
                        <Link inputowner="21" indexofinput="4" outputowner="26" indexofoutput="3" />
                        <Link inputowner="26" indexofinput="2" outputowner="1" indexofoutput="7" />
                        <Link inputowner="27" indexofinput="2" outputowner="20" indexofoutput="8" />
                        <Link inputowner="27" indexofinput="2" outputowner="20" indexofoutput="9" />
                        <Link inputowner="27" indexofinput="2" outputowner="20" indexofoutput="10" />
                        <Link inputowner="23" indexofinput="2" outputowner="27" indexofoutput="5" />
                    </Diagram>
                </BehaviorKeyframe>
            </BehaviorLayer>
        </Timeline>
    </Box>
</ChoregrapheProject>
